(function(){(function(){if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}_.extend(Backbone.Validation.validators,{minWordCount:function(f,b,e,c){var d=f&&(f.trim().split(/[ ]+/).length>=e);var a;if(!d){a="Please enter at least "+e+" words"}else{a=undefined}return a},maxCharacterCount:function(e,b,d,c){var f=e&&e.length>d;var a;if(f){a="Maximum"+d+" characters allowed"}else{a=undefined}return a}});_.extend(Backbone.Validation.patterns,{treeDigitZipcode:/^(?!0{3})\d{3,5}([-]\d{4})?$/,usPhone:/^(?:1\-?)?\(?(\d{3})\)?[\-\. ]?(\d{3})[\-\. ]?(\d{4})$/});_.extend(Backbone.Validation.messages,{treeDigitZipcode:"Please enter a valid zipcode",usPhone:"Please enter a valid 10-digit phone number ### ### ####"})}());(function(a){var c=a.BaseTracker;function b(d){c.call(this,d,"MIXPANEL");this._external=window.mixpanel;if(!this._external){console.warn("Mixpanel library is not available, events will not be sent.");this.enabled=false}if(window.document&&window.document.referrer){this.context.referrer=window.document.referrer}}b.prototype=Object.create(c.prototype);b.prototype.constructor=b;b.prototype._addNamespace=function(d){var e=d;if(this.namespace){e=[this.namespace,"-",d].join("")}return e};b.prototype.getExtendedContext=function(d){return Object.assign({path:window.location.pathname,dateMS:Date.now()},this.context,d)};b.prototype.track=function(f,g){var d=this._addNamespace(f);var e=this.getExtendedContext(g);if(this.enabled){this._external.track(d,e)}this.log(d,e)};a.MixpanelTracker=b}(window.HD||(window.HD={})));(function(a){var e={site:{experienceType:"",siteVersion:"",betaSite:"",siteID:""},page:{pageInfo:{pageName:"",pageType:"",pageLoadEvent:"",abTest:""},category:{primaryCategory:"",subCategory1:"",subCategory2:""},onsiteSearchInfo:{searchTerm:"",semanticSearchTokens:"",resultsCategory:"",intSearchSuggest:"",pageNum:"",numberOfResults:"",relatedCategory:"",relatedSearch:""}},user:{localization:{storeNumber:"",storeState:"",storeZip:"",geoFencing:""},profile:{profileInfo:{profileID:""},authenticationStatus:""}},event:[]};var c={baseName:"installation services and repair",experienceType:"desktop",isIndexPage:false,source:"",_slug:""};function d(i){var g=Array.prototype.slice.call(arguments,1);var h=Object.assign({},i);if(i){if(g.length>0){g.forEach(function(j){Object.assign(i,j)})}Object.assign(i,h)}return i}var f=a.BaseTracker;function b(g){f.call(this,g,"OMNITURE");this.context=Object.assign({},c,this.context);if(this.enabled){var h=" is not available, are you sure the Home Depot Omniture script is loaded?";this._digitalData=window._dD;this._external=window._T;if(!this._digitalData){this._digitalData={};this.enabled=false;console.warn("window.digitalData"+h)}if(!this._external){this.enabled=false;console.warn("THD tracking library (window._T)"+h)}}else{this._digitalData={}}d(this._digitalData,e)}b.JUST_POPULATE="POPULATE DIGITALDATA";b.prototype=Object.create(f.prototype);b.prototype.constructor=b;b.prototype.getTrackingContext=function(k){var i=this.context.source;var h=this.context.baseName;var g=[h,this.context._slug].join(">");if(this.context.isIndexPage){g=h}var j={pageName:g,siteSection:h,contentCategory:g,contentSubCategory:g,pageType:h,pageSource:i};if(!this.context.isIndexPage){j.formName=this.context._slug}return Object.assign(j,this.context,k)};b.prototype.populateDigitalData=function(h){var g=this.getTrackingContext(h);Object.assign(this._digitalData.site,{betaSite:g.betaSite,experienceType:g.experienceType});Object.assign(this._digitalData.page.category,{primaryCategory:g.siteSection,subCategory1:g.contentCategory,subCategory2:g.contentSubCategory});Object.assign(this._digitalData.page.pageInfo,{abTest:g.abTest||"",pageName:g.pageName,pageType:g.pageType});Object.assign(this._digitalData.user.localization,{storeState:g.localState||"",storeNumber:g.localStoreNum||"",storeZip:g.localZipCode||""});this._digitalData.user.profile.authenticationStatus=g.custStatus;this._digitalData.user.profile.profileInfo.profileID=g.customerID||""};b.prototype.createTHDEvent=function(g,j){var i=this.getTrackingContext(j);var h=i.primaryCategory||i.siteSection;var k={category:{primaryCategory:h},eventInfo:{eventName:g},form:{formType:h,formName:i.formName}};if(i.internetId){k.product={productId:"productdetails:"+i.internetId}}if(i.lead_id){k.form.leadID=i.lead_id}if(i.zipcode){k.form.zip=i.zipcode}if(i.eventMode){k.eventMode=i.eventMode}if(i.errorMessage){k.eventInfo.error=[{message:i.errorMessage}]}return k};b.prototype.track=function(g,h){if(g===b.JUST_POPULATE){this.populateDigitalData();if(this.enabled){this._external.pageData.push(this._digitalData)}this.log("digitalData populated:",this._digitalData)}else{var i=this.createTHDEvent(g,h);this._digitalData.event.push(i);this.log(g,i)}};a.OmnitureTracker=b}(window.HD||(window.HD={})));(function(f){var e;var a;var c;var b=f.EVENTS.SERVICES={CACHED_FORM_LOAD:"Form submitted with cached contact info",CALENDAR_DATE_SELECTED:"Calendar Date Selected",FLOW_COMPLETE:"Flow completed - success",HOME_CATEGORY_CLICK:"HomeCategoryClick",HOME_CATEGORY_FILTER:"HomeCategoryFilterClick",HOME_CTA_CLICK:"Home service CTA clicked",HOME_SEARCH:"HomeSearch",HVAC_STEP_COMPLETE:"HVAC Step Complete",INITIALIZE_PAGE:"Initialize ",LEAD_FORM_COMPLETE:"Lead form complete",LEAD_FORM_START:"Lead form started",LINK_CLICKED:"Tracked link clicked",PAGE_LOAD:"Page Load",PHONE_LINK_CLICK:"Call triggered",REDIRECT_PAGE:"redirect_page",UNEXPECTED_SERVER_ERROR:"Unexpected server error ",VALIDATION_FAIL:"client validation - fail",VALIDATION_SUCCESS:"client validation - success",_OMNITURE:{FLOW_COMPLETE:"form complete",HOME_CTA_CLICK:"getitdone",LEAD_FORM_START:"form start",PAGE_LOAD:f.OmnitureTracker.JUST_POPULATE,PHONE_LINK_CLICK:"clicktoCall",VALIDATION_FAIL:"post page error"}};var d=[{name:b.CACHED_FORM_LOAD,handler:function(){c.track(b._OMNITURE.LEAD_FORM_START,{eventMode:"preload"})}},{name:b.CALENDAR_DATE_SELECTED,handler:function(g){a.track(b.CALENDAR_DATE_SELECTED,g)}},{name:b.FLOW_COMPLETE,handler:function(g){a.track(b.FLOW_COMPLETE,g);c.track(b._OMNITURE.FLOW_COMPLETE,g);if(window.ga){window.ga("send","event","Lead","Submit a lead","Flow Complete",10)}}},{name:b.HOME_CATEGORY_CLICK,handler:function(g){a.track(b.HOME_CATEGORY_CLICK,g)}},{name:b.HOME_CATEGORY_FILTER,handler:function(g){a.track(b.HOME_CATEGORY_FILTER,g)}},{name:b.HOME_CTA_CLICK,handler:function(g){a.track(b.HOME_CTA_CLICK,g)}},{name:b.HOME_SEARCH,handler:function(g){a.track(b.HOME_SEARCH,g)}},{name:b.HVAC_STEP_COMPLETE,handler:function(g){a.track(b.HVAC_STEP_COMPLETE,g)}},{name:b.INITIALIZE_PAGE,handler:function(h){var g=h.pageCode||"";a.track(b.INITIALIZE_PAGE+g,h)}},{name:b.LEAD_FORM_COMPLETE,handler:function(g){a.track(b.LEAD_FORM_COMPLETE,g)}},{name:b.LEAD_FORM_START,handler:function(g){a.track(b.LEAD_FORM_START,g);c.track(b._OMNITURE.LEAD_FORM_START,g)}},{name:b.LINK_CLICKED,handler:function(g){a.track(b.LINK_CLICKED,g)}},{name:b.PAGE_LOAD,handler:function(g){a.track(b.PAGE_LOAD,g);c.track(b._OMNITURE.PAGE_LOAD,g)}},{name:b.PHONE_LINK_CLICK,handler:function(g){a.track(b.PHONE_LINK_CLICK,g);c.track(b._OMNITURE.PHONE_LINK_CLICK,g)}},{name:b.REDIRECT_PAGE,handler:function(g){a.track(b.REDIRECT_PAGE,g)}},{name:b.UNEXPECTED_SERVER_ERROR,handler:function(g){a.track(b.UNEXPECTED_SERVER_ERROR,g)}},{name:b.VALIDATION_FAIL,handler:function(g){var h=g.prefix||"";a.track(h+b.VALIDATION_FAIL,g);g.errorMessage=g.errorMessage||"client_validation";g.primaryCategory="error";c.track(b._OMNITURE.VALIDATION_FAIL,g)}},{name:b.VALIDATION_SUCCESS,handler:function(g){var h=g.prefix||"";a.track(h+b.VALIDATION_SUCCESS,g)}}];f.tracking={init:function(h){e=new f.TrackingManager();a=new f.MixpanelTracker(h);c=new f.OmnitureTracker(h);d.forEach(function g(i){e.addEvent(i)})},track:function(g,h){f.eventEmitter.emitEvent(g,[h])}}}(window.HD));(function(b,d){var c="",e={},f=false,a=0;b.track=function(i,g){if(!f){return}g=d.extend({},e,g);if(window._gaq&&c){window._gaq.push(["_trackEvent",c,i])}if(c){i=[c,"-",i].join("")}if(window.mixpanel){mixpanel.track(i,g)}if(typeof Crittercism!=="undefined"&&Crittercism&&Crittercism._dumpState().appId){var h=d.extend(true,g,{});delete h.user;var j="EVENT: "+i+" PROPERTIES: "+JSON.stringify(h);Crittercism.leaveBreadcrumb(j)}};b.track_links=function(i,h){if(!f){return}h=d.extend({},e,h);if(c){i=[c,"-",i].join("")}if(window.mixpanel){var g={};g.event=i;g.properties=h;mixpanel.register({clickEvent:g})}};b.track.wrap=function(i,g,h){return function(){b.track(i,g);return h.apply(this,arguments)}};b.track.init=function(g){c=g.namespace||c;e=g.defaults||e;if(window.document){e=d.extend({referer:window.document.referer},e)}f=true;hasMixpanelLoaded()};b.track.getDistinctId=function(){var g;if((!_.isUndefined(window.mixpanel))&&(!_.isUndefined(mixpanel.get_distinct_id))){g=mixpanel.get_distinct_id()}else{g=undefined}return g},hasMixpanelLoaded=function(){if(window.mixpanel&&"get_property" in mixpanel){var g=mixpanel.get_property("clickEvent");if(g){mixpanel.track(g.event,g.properties,function(){mixpanel.unregister("clickEvent")})}}else{if(a<20){a++;setTimeout(hasMixpanelLoaded,1000)}}}})(this.HD||(this.HD={}),JQuery);(function(a){HD.MARIN={PROCESSORDERS_EVENT:"processOrders",TRACK_PAGE_EVENT:"trackPage",CONV_TYPE:"formcompletion",template_text:'<script type="text/javascript"src="//tracker.marinsm.com/tracker/async/<%= clientId %>.js?random=<%= random %>"async="true"><\/script>',initialize:function(b,c){this.enabled=c;this.clientId=b},getTrackingContext:function(c,d){var b=[];if(d){b.push(["addTrans",{items:[d]}])}b.push([c]);return b},track:function(e,f){window._mTrack=this.getTrackingContext(e,f);var d=Math.random().toString(36).substring(7);var b={clientId:this.clientId,random:d};var c=_.template(this.template_text,b);if(this.enabled){a("body").append(c)}}}}(JQuery));(function(a){HD.FLOODLIGHT={PROCESSORDERS_EVENT:"processOrders",TRACK_PAGE_EVENT:"trackPage",CONV_TYPE:"formcompletion",track:function(d,e){console.info("FLOODLIGHT : ",d,e);var c=Math.random()+"";var b=c*10000000000000;a("body").append('<iframe src="https://3518820.fls.doubleclick.net/activityi;src=3518820;type=homes971;cat=servi0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord='+b+'?" width="1" height="1" frameborder="0" style="display:none"></iframe>')}}}(JQuery));(function(d){var g={};var a={instore:"in-store",online:"online",ols:"in-home"};function c(i,h){var j=(h||h===undefined)?"visible":"hidden";i.css("visibility",j)}function b(h){c(h,false)}d.appointmentUtils={stores:[],storeViewBindings:{"[name=appt_method]":{observe:"online_appointment",setOptions:{validate:true},onGet:function f(h){return h?"online":"instore"},onSet:function e(h){return h==="online"}},"[name=online_communication]":{observe:"online_communication",setOptions:{validate:true}},"[name=store_id]":{observe:"store_id",setOptions:{validate:true}},".ApptMethodForm--instore":{observe:"online_appointment",visible:function(h){return h===false}},".ApptMethodForm--online":{observe:"online_appointment",visible:function(h){return h===true}},".OnlineMethod--video":{observe:"online_communication",visible:function(h){return h&&h===g.video.code}},".OnlineMethod--phone":{observe:"online_communication",visible:function(h){return h&&h===g.phone.code}}},initialize:function(h){g.phone={code:h.APPTMAKER_ONLINE_COMM_PHONE_CODE,label:h.APPTMAKER_ONLINE_COMM_PHONE_LABEL};g.video={code:h.APPTMAKER_ONLINE_COMM_VIDEO_CODE,label:h.APPTMAKER_ONLINE_COMM_VIDEO_LABEL}},setStores:function(h){this.stores=h||this.stores},_getStoreById:function(h){return _.findWhere(this.stores,{store_id:h})},_getSelectedStore:function(i){if(i){var h=i.get("store_id");return this._getStoreById(h)}return undefined},_getStoreAddressString:function(h){if(h){return(h.address.street+", "+h.address.city+", "+h.address.state+" "+h.address.postalCode+".")}return""},getStoreAddressById:function(h){var i=this._getStoreById(h);return this._getStoreAddressString(i)},getSelectedStoreAddress:function(i){var h=this._getSelectedStore(i);var j=this._getStoreAddressString(h);if(j){return h.name+" Home Depot - "+j}return j},getSelectedStorePhone:function(i){var h=this._getSelectedStore(i);if(h){return h.phone}return""},initializeDatePicker:function(h){var i=this;var k=h.data;var j=_.first(k.availability);var m=_.map(k.availability,function(n){return new Date(n.date)});function l(n){var o=moment(n,"YYYY/MM/DD");h.model.set({humanized_date:o.format("dddd MMMM DD, YYYY"),appt_date:o.format("MMM DD, YYYY"),appt_day_of_week:o.format("dddd"),appt_time:""})}h.$el.find(h.selectors.datePickerContainer).datepicker({inline:true,hideIfNoPrevNext:true,minDate:_.first(m),maxDate:_.last(m),defaultDate:_.first(m),dayNamesMin:["S","M","T","W","T","F","S"],altField:h.selectors.realDate,dateFormat:"yy/mm/dd",beforeShowDay:function(o){var n=_.find(m,function(p){return p.toDateString()===o.toDateString()})&&true;return[n,"DatePicker-day"]},onSelect:function(o){if(h.onSelectDay){h.onSelectDay()}l(o);var n=_.find(k.availability,function(p){if(p.date===o&&p.timezone_name){h.model.set("timezoneName",p.timezone_name)}return p.date===o});h.initializeTimePicker(n)},onChangeMonthYear:function(o,p,n){if(n.currentMonth+1!==p){i.hideTimePicker(h)}else{i.showTimePicker(h)}}});l(j.date);h.initializeTimePicker(j);this._getCalendarRowEl(h).show()},parseTimeSlots:function(h,k){var j=moment().utcOffset();if(k&&k.raw_offset){j=k.raw_offset/60}function i(n){var m=moment.utc(n,"hh:mm");var l=m.utcOffset(j,true);return{raw:n,formatted12Hour:l.format("h:mm A")}}return _.map(h.times,i)},showTimePicker:function(h){c(h.$el.find(h.selectors.timePickerSection));this.showAppointmentSummary(h)},hideTimePicker:function(h){b(h.$el.find(h.selectors.timePickerSection));this.hideAppointmentSummary(h)},_getCalendarRowEl:function(h){return h.$el.find(h.selectors.calendarRow)},_getScheduleExplanationEl:function(h){return h.$el.find(h.selectors.scheduleOnPhoneExplanation)},initializeScheduleOnPhone:function(h){h.$el.find(h.selectors.scheduleOnPhone).on("click",function i(j){if(j.target.checked){this._getCalendarRowEl(h).hide();this._getScheduleExplanationEl(h).show();h.model.set({humanized_date:"",appt_date:"",appt_day_of_week:"",appt_time:""});this.changeCTAText(h,"Submit Request")}else{this._getScheduleExplanationEl(h).hide();this.initializeDatePicker(h);this.changeCTAText(h,"Schedule Appointment")}}.bind(this))},showAppointmentSummary:function(o,m){var j=o.model.get("appt_date");var n=o.model.get("appt_day_of_week");var i=o.model.get("appt_time");var l=o.model.get("timezoneName");var m=(typeof m!=="undefined")?m:false;if(!m&&j&&n&&i){var k=o.$el.find(o.selectors.appointmentSummary);var q=k.find(o.selectors.apptSummaryDate);var p=k.find(o.selectors.apptSummaryTime);var h=n+" "+i;if(l){h+=' <span title="'+l+'">'+l+"</span>"}q.html(j);p.html(h);c(k)}else{this.hideAppointmentSummary(o)}},hideAppointmentSummary:function(h){b(h.$el.find(h.selectors.appointmentSummary))},changeCTAText:function(h,j){var i=h.$el.find(h.selectors.submitButton);i.text(j)},setDefaultValues:function(i,h){if(this.stores.length>0){var j=this.stores[0];i.set("store_id",j.store_id)}i.set("online_appointment",h);if(h){i.set("online_communication",g.video.code)}},sanitizeOnlineCallMethod:function(h){if(this.getAppointmentType(h)===a.instore){h.unset("online_communication")}},getAppointmentType:function(h){switch(h.get("online_appointment")){case true:return a.online;case false:return a.instore;default:return a.ols}},getReadableOnlineCallMethod:function(h){switch(h.get("online_communication")){case g.phone.code:return g.phone.label;case g.video.code:return g.video.label;default:return""}}}}(HD));(function(){HD.utils={};HD.utils.removeSuffix=function(c,b){var a=c.length;if(b.slice(-a)===c){b=b.substring(0,b.length-a)}return b}})();(function(){var b=Backbone.Model.extend({validation:{},getAttributes:function(){return _.clone(this.attributes)},initialize:function(){this.on("change",function(f){f.lastChanged=_.keys(f.changedAttributes())[0]})},clearAttributes:function(){this.set(this.defaults)},getUntochedAttrs:function(){return _.difference(_.keys(this.defaults),this.keys())}});var a=b.extend({defaults:{slug:"",_slug:""}});HD.PageModel=a;var e=b.extend({url:undefined,defaults:{name:"",email:"",phone:"",county:"",zipcode:"",description:"",address:""},validation:undefined,leadValidation:{name:[{required:true,msg:"Please enter your full name"},{minWordCount:2,msg:"Please enter your full name"},{maxCharacterCount:60,msg:"Maximum 60 characters allowed"}],email:[{required:true,msg:"Please enter your email address"},{pattern:"email",msg:"Please enter a valid email address"}],phone:[{required:true,msg:"Please enter your phone number"},{pattern:"usPhone",msg:"Please enter a valid 10-digit phone number ### ### ####"}],address:[{required:true,msg:"Please enter your address"}],zipcode:[{required:true,msg:"Please enter your zipcode"},{pattern:"treeDigitZipcode",msg:"Please enter a valid zipcode"}],description:[{required:false}]},addressValidation:{address:[{required:true,msg:"Please enter your address"}]},shedsValidation:{zipcode:[{required:true,msg:"Please enter your zipcode"},{pattern:"treeDigitZipcode",msg:"Please enter a valid zipcode"}]}});HD.LeadModel=e;var d=b.extend({});HD.ServiceModel=d;var c=Backbone.Collection.extend({model:d});HD.ServiceCollection=c})();(function(c){var a=HD.EVENTS.SERVICES;var b={log:function(f,e,d){if(this.isDebug&&window.console&&console.log){if(d!==undefined){console.log(f,e,d)}else{if(e!==undefined){console.log(f,e)}else{console.log(f)}}}},getExtraLeadData:function(){var d={distinct_id:HD.track.getDistinctId()};if(this.page.get("flow")===this.page.FT_CAKE){d.ckm_request_id=window.ckm_request_id}return d},getTrackingContext:function(d){return _.extend({},this.context,d||{})},initializeMA:function(){HD.MARIN.initialize(this.page.marinClientId,this.enabled)},trackMA:function(d,e){if(this.isDebug){this.log("MARIN",d,JSON.stringify(HD.MARIN.getTrackingContext(d,e)))}if(this.enabled){HD.MARIN.track(d,e)}},trackFloodLight:function(d,e){HD.FLOODLIGHT.track(d,e)},trackFBPixel:function(d,e){if(HD.FB){HD.FB.track(d,e)}},initializePhoneTracking:function(d){if(_.isUndefined(d)){d=c}d("[href*='tel:']").on("click",function(g){g.preventDefault();var f=c(g.currentTarget).attr("href");HD.tracking.track(a.PHONE_LINK_CLICK);_.delay(function(e){window.location.assign(e)},100,f)})},initializeLinkTracking:function(){c(".tracked-link").on("click",function(h){h.preventDefault();var f=c(h.currentTarget);var d=f.attr("href");var g=f.data("type");HD.tracking.track(a.LINK_CLICKED,{linkHref:d,linkType:g});_.delay(function(e){window.location.assign(e)},1000,d)}).ladda("bind")},initializeFbPixel:function(){if(HD.FB){HD.FB.init();HD.FB.track(a.PAGE_LOAD,HD.page.getAttributes("slug"))}},initialize:function(d){this.page=d;this.enabled=d.isTrackingEnabled&&d.isAnonymous;this.isDebug=d.isTrackingDebug||!d.isAnonymous;this.context=d.getAttributes();this.initializeMA();this.initializePhoneTracking();this.initializeLinkTracking();this.initializeFbPixel();HD.tracking.init({enabled:this.enabled,verbose:this.isDebug,namespace:"Services",context:this.context});HD.tracking.track(a.PAGE_LOAD)},trackGetItDone:function(d){HD.tracking.track(a.HOME_CTA_CLICK,{sourceElement:d})},trackServiceAvailable:function(){HD.tracking.track(a.LEAD_FORM_START)},trackFrontendValidationSuccess:function(d){HD.tracking.track(a.VALIDATION_SUCCESS,{pageCode:d})},trackFrontendValidationFailed:function(e,d){HD.tracking.track(a.VALIDATION_FAIL,{pageCode:e,errorMessage:d})},trackFlowCompleted:function(d){var e=d.get("lead_id");HD.tracking.track(a.FLOW_COMPLETE,d.getAttributes());window.optimizely=window.optimizely||[];window.optimizely.push({type:"event",eventName:"lead-submit-success",tags:{slug:HD.page.getAttributes("slug"),orderId:d.get("lead_id")}});if(HD.FB){this.trackFBPixel(a.FLOW_COMPLETE,HD.page.getAttributes("slug"))}this.trackMA(HD.MARIN.PROCESSORDERS_EVENT,{orderId:e,convType:HD.MARIN.CONV_TYPE});this.trackFloodLight(HD.FLOODLIGHT.PROCESSORDERS_EVENT,{orderId:e,convType:HD.FLOODLIGHT.CONV_TYPE});if(this.page.get("flow")===this.page.FT_CAKE){insertCAKEConversionPixel()}}};HD.trackingManager=b})(JQuery);(function(b){var a=b("#affixed-header");b(".homeservices-typeahead").on("typeahead:selected",function(d,c){});b(document).ready(function(){if(!HD.isFutureMode){a.hide();var d=b(".affixed-header-show").offset().top;var c=false;b(window).scroll(function(){if(a.data("persistent")){}else{if(b(window).scrollTop()>d){b("#thdTablet-mast").slideUp();a.slideDown()}else{if(!c){a.slideUp();b("#thdTablet-mast").slideDown()}}}});a.focusin(function(){c=true});a.focusout(function(){c=false;if(b(window).scrollTop()<d){a.slideUp();b("#thdTablet-mast").slideDown()}})}});b("[data-original]").lazyload({});b("input").placeholder();HD.createServiceObjects=function(c){var d=[];HD.serviceObjects=_.map(HD.page.services,function(h){var f={name:h.code,display:"name",limit:10,templates:{header:"<h3>"+h.name+"</h3>"},data:_.map(h.services,function(j,k){return{id:k,name:j.name,code:h.code,synonyms:j.synonyms}})};var e=function(j){var m=Bloodhound.tokenizers.whitespace(j.name);var l=Bloodhound.tokenizers.whitespace(j.code);var k=Bloodhound.tokenizers.nonword(j.synonyms);return m.concat(l).concat(k)};var g=new Bloodhound({datumTokenizer:e,queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(j){return j.id},local:f.data,limit:20});f.source=function i(k,j){var l=c||"All";if((h.name===l)||(l==="All")){if(k!==""){g.search(k,j)}else{j(g.get(_.range(f.data.length)))}}else{g.search(k,j)}};return f})};HD.initialize=function(e,c){var d=new HD.PageModel(c);HD.page=d;_.extend(d,e);HD.createServiceObjects();HD.trackingManager.initialize(HD.page);HD.servicePage.initialize(HD.page);HD.appointmentUtils.initialize(e);if(typeof initializeInvoca==="function"){initializeInvoca(undefined,HD.page.get("slug"),d.PT_SERVICE,HD.page.get("page_social_source"))}}})(JQuery)}).call(this);