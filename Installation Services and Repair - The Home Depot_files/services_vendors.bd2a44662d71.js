(function(){
/*
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(a,b){if(typeof define==="function"&&define.amd){define("bloodhound",["jquery"],function(c){return a.Bloodhound=b(c)})}else{if(typeof exports==="object"){module.exports=b(require("jquery"))}else{a.Bloodhound=b(jQuery)}}})(this,function(d){var j=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(o){return !o||/^\s*$/.test(o)},escapeRegExChars:function(o){return o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(o){return typeof o==="string"},isNumber:function(o){return typeof o==="number"},isArray:d.isArray,isFunction:d.isFunction,isObject:d.isPlainObject,isUndefined:function(o){return typeof o==="undefined"},isElement:function(o){return !!(o&&o.nodeType===1)},isJQuery:function(o){return o instanceof d},toStr:function n(o){return j.isUndefined(o)||o===null?"":o+""},bind:d.proxy,each:function(q,o){d.each(q,p);function p(r,s){return o(s,r)}},map:d.map,filter:d.grep,every:function(p,q){var o=true;if(!p){return o}d.each(p,function(r,s){if(!(o=q.call(null,s,r,p))){return false}});return !!o},some:function(p,q){var o=false;if(!p){return o}d.each(p,function(r,s){if(o=q.call(null,s,r,p)){return false}});return !!o},mixin:d.extend,identity:function(o){return o},clone:function(o){return d.extend(true,{},o)},getIdGenerator:function(){var o=0;return function(){return o++}},templatify:function m(p){return d.isFunction(p)?p:o;function o(){return String(p)}},defer:function(o){setTimeout(o,0)},debounce:function(q,s,p){var r,o;return function(){var w=this,v=arguments,u,t;u=function(){r=null;if(!p){o=q.apply(w,v)}};t=p&&!r;clearTimeout(r);r=setTimeout(u,s);if(t){o=q.apply(w,v)}return o}},throttle:function(t,v){var r,q,u,o,s,p;s=0;p=function(){s=new Date();u=null;o=t.apply(r,q)};return function(){var w=new Date(),x=v-(w-s);r=this;q=arguments;if(x<=0){clearTimeout(u);u=null;s=w;o=t.apply(r,q)}else{if(!u){u=setTimeout(p,x)}}return o}},stringify:function(o){return j.isString(o)?o:JSON.stringify(o)},noop:function(){}}}();var l="0.11.1";var f=function(){return{nonword:m,whitespace:n,obj:{nonword:o(m),whitespace:o(n)}};function n(p){p=j.toStr(p);return p?p.split(/\s+/):[]}function m(p){p=j.toStr(p);return p?p.split(/\W+/):[]}function o(q){return function p(r){r=j.isArray(r)?r:[].slice.call(arguments,0);return function s(u){var t=[];j.each(r,function(v){t=t.concat(q(j.toStr(u[v])))});return t}}}}();var k=function(){function n(u){this.maxSize=j.isNumber(u)?u:100;this.reset();if(this.maxSize<=0){this.set=this.get=d.noop}}j.mixin(n.prototype,{set:function t(u,x){var w=this.list.tail,v;if(this.size>=this.maxSize){this.list.remove(w);delete this.hash[w.key];this.size--}if(v=this.hash[u]){v.val=x;this.list.moveToFront(v)}else{v=new o(u,x);this.list.add(v);this.hash[u]=v;this.size++}},get:function p(u){var v=this.hash[u];if(v){this.list.moveToFront(v);return v.val}},reset:function r(){this.size=0;this.hash={};this.list=new q()}});function q(){this.head=this.tail=null}j.mixin(q.prototype,{add:function s(u){if(this.head){u.next=this.head;this.head.prev=u}this.head=u;this.tail=this.tail||u},remove:function m(u){u.prev?u.prev.next=u.next:this.head=u.next;u.next?u.next.prev=u.prev:this.tail=u.prev},moveToFront:function(u){this.remove(u);this.add(u)}});function o(u,v){this.key=u;this.val=v;this.prev=this.next=null}return n}();var h=function(){var r;try{r=window.localStorage;r.setItem("~~~","!");r.removeItem("~~~")}catch(q){r=null}function o(u,t){this.prefix=["__",u,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+j.escapeRegExChars(this.prefix));this.ls=t||r;!this.ls&&this._noop()}j.mixin(o.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=j.noop},_safeSet:function(t,v){try{this.ls.setItem(t,v)}catch(u){if(u.name==="QuotaExceededError"){this.clear();this._noop()}}},get:function(t){if(this.isExpired(t)){this.remove(t)}return s(this.ls.getItem(this._prefix(t)))},set:function(u,v,t){if(j.isNumber(t)){this._safeSet(this._ttlKey(u),p(n()+t))}else{this.ls.removeItem(this._ttlKey(u))}return this._safeSet(this._prefix(u),p(v))},remove:function(t){this.ls.removeItem(this._ttlKey(t));this.ls.removeItem(this._prefix(t));return this},clear:function(){var t,u=m(this.keyMatcher);for(t=u.length;t--;){this.remove(u[t])}return this},isExpired:function(u){var t=s(this.ls.getItem(this._ttlKey(u)));return j.isNumber(t)&&n()>t?true:false}});return o;function n(){return new Date().getTime()}function p(t){return JSON.stringify(j.isUndefined(t)?null:t)}function s(t){return d.parseJSON(t)}function m(u){var w,v,x=[],t=r.length;for(w=0;w<t;w++){if((v=r.key(w)).match(u)){x.push(v.replace(u,""))}}return x}}();var e=function(){var o=0,r={},m=6,q=new k(10);function t(u){u=u||{};this.cancelled=false;this.lastReq=null;this._send=u.transport;this._get=u.limiter?u.limiter(this._get):this._get;this._cache=u.cache===false?new k(0):q}t.setMaxPendingRequests=function n(u){m=u};t.resetCache=function s(){q.reset()};j.mixin(t.prototype,{_fingerprint:function p(u){u=u||{};return u.url+u.type+d.param(u.data||{})},_get:function(B,v){var A=this,y,z;y=this._fingerprint(B);if(this.cancelled||y!==this.lastReq){return}if(z=r[y]){z.done(x).fail(w)}else{if(o<m){o++;r[y]=this._send(B).done(x).fail(w).always(u)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}}function x(C){v(null,C);A._cache.set(y,C)}function w(){v(true)}function u(){o--;delete r[y];if(A.onDeckRequestArgs){A._get.apply(A,A.onDeckRequestArgs);A.onDeckRequestArgs=null}}},get:function(x,u){var w,v;u=u||d.noop;x=j.isString(x)?{url:x}:x||{};v=this._fingerprint(x);this.cancelled=false;this.lastReq=v;if(w=this._cache.get(v)){u(null,w)}else{this._get(x,u)}},cancel:function(){this.cancelled=true}});return t}();var a=window.SearchIndex=function(){var t="c",u="i";function m(z){z=z||{};if(!z.datumTokenizer||!z.queryTokenizer){d.error("datumTokenizer and queryTokenizer are both required")}this.identify=z.identify||j.stringify;this.datumTokenizer=z.datumTokenizer;this.queryTokenizer=z.queryTokenizer;this.reset()}j.mixin(m.prototype,{bootstrap:function o(z){this.datums=z.datums;this.trie=z.trie},add:function(A){var z=this;A=j.isArray(A)?A:[A];j.each(A,function(B){var D,C;z.datums[D=z.identify(B)]=B;C=q(z.datumTokenizer(B));j.each(C,function(E){var H,G,F;H=z.trie;G=E.split("");while(F=G.shift()){H=H[t][F]||(H[t][F]=v());H[u].push(D)}})})},get:function n(z){var A=this;return j.map(z,function(B){return A.datums[B]})},search:function y(B){var z=this,C,A;C=q(this.queryTokenizer(B));j.each(C,function(D){var H,G,F,E;if(A&&A.length===0){return false}H=z.trie;G=D.split("");while(H&&(F=G.shift())){H=H[t][F]}if(H&&G.length===0){E=H[u].slice(0);A=A?r(A,E):E}else{A=[];return false}});return A?j.map(p(A),function(D){return z.datums[D]}):[]},all:function w(){var z=[];for(var A in this.datums){z.push(this.datums[A])}return z},reset:function s(){this.datums={};this.trie=v()},serialize:function x(){return{datums:this.datums,trie:this.trie}}});return m;function q(z){z=j.filter(z,function(A){return !!A});z=j.map(z,function(A){return A.toLowerCase()});return z}function v(){var z={};z[u]=[];z[t]={};return z}function p(D){var A={},C=[];for(var B=0,z=D.length;B<z;B++){if(!A[D[B]]){A[D[B]]=true;C.push(D[B])}}return C}function r(E,C){var A=0,D=0,F=[];E=E.sort();C=C.sort();var B=E.length,z=C.length;while(A<B&&D<z){if(E[A]<C[D]){A++}else{if(E[A]>C[D]){D++}else{F.push(E[A]);A++;D++}}}return F}}();var g=function(){var q;q={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function r(s){this.url=s.url;this.ttl=s.ttl;this.cache=s.cache;this.prepare=s.prepare;this.transform=s.transform;this.transport=s.transport;this.thumbprint=s.thumbprint;this.storage=new h(s.cacheKey)}j.mixin(r.prototype,{_settings:function p(){return{url:this.url,type:"GET",dataType:"json"}},store:function n(s){if(!this.cache){return}this.storage.set(q.data,s,this.ttl);this.storage.set(q.protocol,location.protocol,this.ttl);this.storage.set(q.thumbprint,this.thumbprint,this.ttl)},fromCache:function o(){var s={},t;if(!this.cache){return null}s.data=this.storage.get(q.data);s.protocol=this.storage.get(q.protocol);s.thumbprint=this.storage.get(q.thumbprint);t=s.thumbprint!==this.thumbprint||s.protocol!==location.protocol;return s.data&&!t?s.data:null},fromNetwork:function(s){var v=this,t;if(!s){return}t=this.prepare(this._settings());this.transport(t).fail(u).done(w);function u(){s(true)}function w(x){s(null,v.transform(x))}},clear:function m(){this.storage.clear();return this}});return r}();var c=function(){function o(q){this.url=q.url;this.prepare=q.prepare;this.transform=q.transform;this.transport=new e({cache:q.cache,limiter:q.limiter,transport:q.transport})}j.mixin(o.prototype,{_settings:function n(){return{url:this.url,type:"GET",dataType:"json"}},get:function m(t,q){var s=this,r;if(!q){return}t=t||"";r=this.prepare(t,this._settings());return this.transport.get(r,u);function u(v,w){v?q([]):q(s.transform(w))}},cancelLastRequest:function p(){this.transport.cancel()}});return o}();var b=function(){return function q(t){var s,u;s={initialize:true,identify:j.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null};t=j.mixin(s,t||{});!t.datumTokenizer&&d.error("datumTokenizer is required");!t.queryTokenizer&&d.error("queryTokenizer is required");u=t.sorter;t.sorter=u?function(v){return v.sort(u)}:j.identity;t.local=j.isFunction(t.local)?t.local():t.local;t.prefetch=n(t.prefetch);t.remote=m(t.remote);return t};function n(t){var s;if(!t){return null}s={url:null,ttl:24*60*60*1000,cache:true,cacheKey:null,thumbprint:"",prepare:j.identity,transform:j.identity,transport:null};t=j.isString(t)?{url:t}:t;t=j.mixin(s,t);!t.url&&d.error("prefetch requires url to be set");t.transform=t.filter||t.transform;t.cacheKey=t.cacheKey||t.url;t.thumbprint=l+t.thumbprint;t.transport=t.transport?o(t.transport):d.ajax;return t}function m(t){var s;if(!t){return}s={url:null,cache:true,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:j.identity,transport:null};t=j.isString(t)?{url:t}:t;t=j.mixin(s,t);!t.url&&d.error("remote requires url to be set");t.transform=t.filter||t.transform;t.prepare=r(t);t.limiter=p(t);t.transport=t.transport?o(t.transport):d.ajax;delete t.replace;delete t.wildcard;delete t.rateLimitBy;delete t.rateLimitWait;return t}function r(y){var v,x,t;v=y.prepare;x=y.replace;t=y.wildcard;if(v){return v}if(x){v=s}else{if(y.wildcard){v=u}else{v=w}}return v;function s(A,z){z.url=x(z.url,A);return z}function u(A,z){z.url=z.url.replace(t,encodeURIComponent(A));return z}function w(A,z){return z}}function p(w){var s,x,v;s=w.limiter;x=w.rateLimitBy;v=w.rateLimitWait;if(!s){s=/^throttle$/i.test(x)?u(v):t(v)}return s;function t(z){return function y(A){return j.debounce(A,z)}}function u(z){return function y(A){return j.throttle(A,z)}}}function o(s){return function t(x){var u=d.Deferred();s(x,w,v);return u;function w(y){j.defer(function(){u.resolve(y)})}function v(y){j.defer(function(){u.reject(y)})}}}}();var i=function(){var o;o=window&&window.Bloodhound;function s(z){z=b(z);this.sorter=z.sorter;this.identify=z.identify;this.sufficient=z.sufficient;this.local=z.local;this.remote=z.remote?new c(z.remote):null;this.prefetch=z.prefetch?new g(z.prefetch):null;this.index=new a({identify:this.identify,datumTokenizer:z.datumTokenizer,queryTokenizer:z.queryTokenizer});z.initialize!==false&&this.initialize()}s.noConflict=function r(){window&&(window.Bloodhound=o);return s};s.tokenizers=f;j.mixin(s.prototype,{__ttAdapter:function t(){var B=this;return this.remote?A:z;function A(E,D,C){return B.search(E,D,C)}function z(D,C){return B.search(D,C)}},_loadPrefetch:function m(){var B=this,A,C;A=d.Deferred();if(!this.prefetch){A.resolve()}else{if(C=this.prefetch.fromCache()){this.index.bootstrap(C);A.resolve()}else{this.prefetch.fromNetwork(z)}}return A.promise();function z(D,E){if(D){return A.reject()}B.add(E);B.prefetch.store(B.index.serialize());A.resolve()}},_initialize:function p(){var B=this,z;this.clear();(this.initPromise=this._loadPrefetch()).done(A);return this.initPromise;function A(){B.add(B.local)}},initialize:function p(z){return !this.initPromise||z?this._initialize():this.initPromise},add:function x(z){this.index.add(z);return this},get:function n(z){z=j.isArray(z)?z:[].slice.call(arguments);return this.index.get(z)},search:function y(D,C,A){var B=this,z;z=this.sorter(this.index.search(D));C(this.remote?z.slice():z);if(this.remote&&z.length<this.sufficient){this.remote.get(D,E)}else{if(this.remote){this.remote.cancelLastRequest()}}return this;function E(G){var F=[];j.each(G,function(H){!j.some(z,function(I){return B.identify(H)===B.identify(I)})&&F.push(H)});A&&A(F)}},all:function u(){return this.index.all()},clear:function q(){this.index.reset();return this},clearPrefetchCache:function w(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function v(){e.resetCache();return this},ttAdapter:function t(){return this.__ttAdapter()}});return s}();return i});(function(a,b){if(typeof define==="function"&&define.amd){define("typeahead.js",["jquery"],function(c){return b(c)})}else{if(typeof exports==="object"){module.exports=b(require("jquery"))}else{b(jQuery)}}})(this,function(d){var i=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(n){return !n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n==="string"},isNumber:function(n){return typeof n==="number"},isArray:d.isArray,isFunction:d.isFunction,isObject:d.isPlainObject,isUndefined:function(n){return typeof n==="undefined"},isElement:function(n){return !!(n&&n.nodeType===1)},isJQuery:function(n){return n instanceof d},toStr:function m(n){return i.isUndefined(n)||n===null?"":n+""},bind:d.proxy,each:function(p,n){d.each(p,o);function o(q,r){return n(r,q)}},map:d.map,filter:d.grep,every:function(o,p){var n=true;if(!o){return n}d.each(o,function(q,r){if(!(n=p.call(null,r,q,o))){return false}});return !!n},some:function(o,p){var n=false;if(!o){return n}d.each(o,function(q,r){if(n=p.call(null,r,q,o)){return false}});return !!n},mixin:d.extend,identity:function(n){return n},clone:function(n){return d.extend(true,{},n)},getIdGenerator:function(){var n=0;return function(){return n++}},templatify:function l(o){return d.isFunction(o)?o:n;function n(){return String(o)}},defer:function(n){setTimeout(n,0)},debounce:function(p,r,o){var q,n;return function(){var v=this,u=arguments,t,s;t=function(){q=null;if(!o){n=p.apply(v,u)}};s=o&&!q;clearTimeout(q);q=setTimeout(t,r);if(s){n=p.apply(v,u)}return n}},throttle:function(s,u){var q,p,t,n,r,o;r=0;o=function(){r=new Date();t=null;n=s.apply(q,p)};return function(){var v=new Date(),w=u-(v-r);q=this;p=arguments;if(w<=0){clearTimeout(t);t=null;r=v;n=s.apply(q,p)}else{if(!t){t=setTimeout(o,w)}}return n}},stringify:function(n){return i.isString(n)?n:JSON.stringify(n)},noop:function(){}}}();var j=function(){var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return n;function n(s){var r,q;q=i.mixin({},o,s);r={css:l(),classes:q,html:p(q),selectors:m(q)};return{css:r.css,html:r.html,classes:r.classes,selectors:r.selectors,mixin:function(t){i.mixin(t,r)}}}function p(q){return{wrapper:'<span class="'+q.wrapper+'"></span>',menu:'<div class="'+q.menu+'"></div>'}}function m(r){var q={};i.each(r,function(t,s){q[s]="."+t});return q}function l(){var q={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(i.isMsie()){i.mixin(q.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}return q}}();var f=function(){var n,m;n="typeahead:";m={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};function l(p){if(!p||!p.el){d.error("EventBus initialized without el")}this.$el=d(p.el)}i.mixin(l.prototype,{_trigger:function(q,p){var o;o=d.Event(n+q);(p=p||[]).unshift(o);this.$el.trigger.apply(this.$el,p);return o},before:function(q){var p,o;p=[].slice.call(arguments,1);o=this._trigger("before"+q,p);return o.isDefaultPrevented()},trigger:function(p){var o;this._trigger(p,[].slice.call(arguments,1));if(o=m[p]){this._trigger(o,[].slice.call(arguments,1))}}});return l}();var k=function(){var n=/\s+/,r=l();return{onSync:s,onAsync:m,off:o,trigger:p};function t(z,x,v,w){var y;if(!v){return this}x=x.split(n);v=w?u(v,w):v;this._callbacks=this._callbacks||{};while(y=x.shift()){this._callbacks[y]=this._callbacks[y]||{sync:[],async:[]};this._callbacks[y][z].push(v)}return this}function m(x,v,w){return t.call(this,"async",x,v,w)}function s(x,v,w){return t.call(this,"sync",x,v,w)}function o(v){var w;if(!this._callbacks){return this}v=v.split(n);while(w=v.shift()){delete this._callbacks[w]}return this}function p(w){var x,y,v,z,A;if(!this._callbacks){return this}w=w.split(n);v=[].slice.call(arguments,1);while((x=w.shift())&&(y=this._callbacks[x])){z=q(y.sync,this,[x].concat(v));A=q(y.async,this,[x].concat(v));z()&&r(A)}return this}function q(y,x,w){return v;function v(){var B;for(var A=0,z=y.length;!B&&A<z;A+=1){B=y[A].apply(x,w)===false}return !B}}function l(){var w;if(window.setImmediate){w=function x(y){setImmediate(function(){y()})}}else{w=function v(y){setTimeout(function(){y()},0)}}return w}function u(w,v){return w.bind?w.bind(v):function(){w.apply(v,[].slice.call(arguments,0))}}}();var b=function(o){var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function m(s){var p;s=i.mixin({},n,s);if(!s.node||!s.pattern){return}s.pattern=i.isArray(s.pattern)?s.pattern:[s.pattern];p=l(s.pattern,s.caseSensitive,s.wordsOnly);q(s.node,r);function r(w){var u,t,v;if(u=p.exec(w.data)){v=o.createElement(s.tagName);s.className&&(v.className=s.className);t=w.splitText(u.index);t.splitText(u[0].length);v.appendChild(t.cloneNode(true));w.parentNode.replaceChild(v,t)}return !!u}function q(w,x){var u,v=3;for(var t=0;t<w.childNodes.length;t++){u=w.childNodes[t];if(u.nodeType===v){t+=x(u)?1:0}else{q(u,x)}}}};function l(s,q,v){var u=[],t;for(var r=0,p=s.length;r<p;r++){u.push(i.escapeRegExChars(s[r]))}t=v?"\\b("+u.join("|")+")\\b":"("+u.join("|")+")";return q?new RegExp(t):new RegExp(t,"i")}}(window.document);var g=function(){var J;J={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function F(O,N){O=O||{};if(!O.input){d.error("input is missing")}N.mixin(this);this.$hint=d(O.hint);this.$input=d(O.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=y(this.$input);this._checkLanguageDirection();if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=i.noop}}F.normalizeQuery=function(N){return i.toStr(N).replace(/^\s*/g,"").replace(/\s{2,}/g," ")};i.mixin(F.prototype,k,{_onBlur:function w(){this.resetInputValue();this.trigger("blurred")},_onFocus:function r(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function L(N){var O=J[N.which||N.keyCode];this._managePreventDefault(O,N);if(O&&this._shouldTrigger(O,N)){this.trigger(O+"Keyed",N)}},_onInput:function n(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function t(P,O){var N;switch(P){case"up":case"down":N=!z(O);break;default:N=false}N&&O.preventDefault()},_shouldTrigger:function M(P,O){var N;switch(P){case"tab":N=!z(O);break;default:N=true}return N},_checkLanguageDirection:function m(){var N=(this.$input.css("direction")||"ltr").toLowerCase();if(this.dir!==N){this.dir=N;this.$hint.attr("dir",N);this.trigger("langDirChanged",N)}},_setQuery:function B(Q,O){var N,P;N=v(Q,this.query);P=N?this.query.length!==Q.length:false;this.query=Q;if(!O&&!N){this.trigger("queryChanged",this.query)}else{if(!O&&P){this.trigger("whitespaceChanged",this.query)}}},bind:function(){var Q=this,R,N,P,O;R=i.bind(this._onBlur,this);N=i.bind(this._onFocus,this);P=i.bind(this._onKeydown,this);O=i.bind(this._onInput,this);this.$input.on("blur.tt",R).on("focus.tt",N).on("keydown.tt",P);if(!i.isMsie()||i.isMsie()>9){this.$input.on("input.tt",O)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(S){if(J[S.which||S.keyCode]){return}i.defer(i.bind(Q._onInput,Q,S))})}return this},focus:function A(){this.$input.focus()},blur:function G(){this.$input.blur()},getLangDir:function E(){return this.dir},getQuery:function C(){return this.query||""},setQuery:function B(O,N){this.setInputValue(O);this._setQuery(O,N)},hasQueryChangedSinceLastFocus:function H(){return this.query!==this.queryWhenFocused},getInputValue:function s(){return this.$input.val()},setInputValue:function u(N){this.$input.val(N);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function q(){this.setInputValue(this.query)},getHint:function o(){return this.$hint.val()},setHint:function I(N){this.$hint.val(N)},clearHint:function x(){this.setHint("")},clearHintIfInvalid:function l(){var Q,P,N,O;Q=this.getInputValue();P=this.getHint();N=Q!==P&&P.indexOf(Q)===0;O=Q!==""&&N&&!this.hasOverflow();!O&&this.clearHint()},hasFocus:function p(){return this.$input.is(":focus")},hasOverflow:function D(){var N=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=N},isCursorAtEnd:function(){var O,P,N;O=this.$input.val().length;P=this.$input[0].selectionStart;if(i.isNumber(P)){return P===O}else{if(document.selection){N=document.selection.createRange();N.moveStart("character",-O);return O===N.text.length}}return true},destroy:function K(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=d("<div>")}});return F;function y(N){return d('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:N.css("font-family"),fontSize:N.css("font-size"),fontStyle:N.css("font-style"),fontVariant:N.css("font-variant"),fontWeight:N.css("font-weight"),wordSpacing:N.css("word-spacing"),letterSpacing:N.css("letter-spacing"),textIndent:N.css("text-indent"),textRendering:N.css("text-rendering"),textTransform:N.css("text-transform")}).insertAfter(N)}function v(O,N){return F.normalizeQuery(O)===F.normalizeQuery(N)}function z(N){return N.altKey||N.ctrlKey||N.metaKey||N.shiftKey}}();var a=function(){var w,z;w={val:"tt-selectable-display",obj:"tt-selectable-object"};z=i.getIdGenerator();function H(J,I){J=J||{};J.templates=J.templates||{};J.templates.notFound=J.templates.notFound||J.templates.empty;if(!J.source){d.error("missing source")}if(!J.node){d.error("missing node")}if(J.name&&!o(J.name)){d.error("invalid dataset name: "+J.name)}I.mixin(this);this.highlight=!!J.highlight;this.name=J.name||z();this.limit=J.limit||5;this.displayFn=y(J.display||J.displayKey);this.templates=p(J.templates,this.displayFn);this.source=J.source.__ttAdapter?J.source.__ttAdapter():J.source;this.async=i.isUndefined(J.async)?this.source.length>2:!!J.async;this._resetLastSuggestion();this.$el=d(J.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}H.extractData=function F(J){var I=d(J);if(I.data(w.obj)){return{val:I.data(w.val)||"",obj:I.data(w.obj)||null}}return null};i.mixin(H.prototype,k,{_overwrite:function m(J,I){I=I||[];if(I.length){this._renderSuggestions(J,I)}else{if(this.async&&this.templates.pending){this._renderPending(J)}else{if(!this.async&&this.templates.notFound){this._renderNotFound(J)}else{this._empty()}}}this.trigger("rendered",this.name,I,false)},_append:function D(J,I){I=I||[];if(I.length&&this.$lastSuggestion.length){this._appendSuggestions(J,I)}else{if(I.length){this._renderSuggestions(J,I)}else{if(!this.$lastSuggestion.length&&this.templates.notFound){this._renderNotFound(J)}}}this.trigger("rendered",this.name,I,true)},_renderSuggestions:function x(J,I){var K;K=this._getSuggestionsFragment(J,I);this.$lastSuggestion=K.children().last();this.$el.html(K).prepend(this._getHeader(J,I)).append(this._getFooter(J,I))},_appendSuggestions:function n(J,I){var L,K;L=this._getSuggestionsFragment(J,I);K=L.children().last();this.$lastSuggestion.after(L);this.$lastSuggestion=K},_renderPending:function r(J){var I=this.templates.pending;this._resetLastSuggestion();I&&this.$el.html(I({query:J,dataset:this.name}))},_renderNotFound:function C(J){var I=this.templates.notFound;this._resetLastSuggestion();I&&this.$el.html(I({query:J,dataset:this.name}))},_empty:function s(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function l(M,I){var K=this,J;J=document.createDocumentFragment();i.each(I,function L(N){var P,O;O=K._injectQuery(M,N);P=d(K.templates.suggestion(O)).data(w.obj,N).data(w.val,K.displayFn(N)).addClass(K.classes.suggestion+" "+K.classes.selectable);J.appendChild(P[0])});this.highlight&&b({className:this.classes.highlight,node:J,pattern:M});return d(J)},_getFooter:function u(J,I){return this.templates.footer?this.templates.footer({query:J,suggestions:I,dataset:this.name}):null},_getHeader:function B(J,I){return this.templates.header?this.templates.header({query:J,suggestions:I,dataset:this.name}):null},_resetLastSuggestion:function t(){this.$lastSuggestion=d()},_injectQuery:function G(I,J){return i.isObject(J)?i.mixin({_query:I},J):J},update:function q(O){var N=this,J=false,I=false,P=0;this.cancel();this.cancel=function M(){J=true;N.cancel=d.noop;N.async&&N.trigger("asyncCanceled",O)};this.source(O,L,K);!I&&L([]);function L(Q){if(I){return}I=true;Q=(Q||[]).slice(0,N.limit);P=Q.length;N._overwrite(O,Q);if(P<N.limit&&N.async){N.trigger("asyncRequested",O)}}function K(Q){Q=Q||[];if(!J&&P<N.limit){N.cancel=d.noop;P+=Q.length;N._append(O,Q.slice(0,N.limit-P));N.async&&N.trigger("asyncReceived",O)}}},cancel:d.noop,clear:function A(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function v(){return this.$el.is(":empty")},destroy:function E(){this.$el=d("<div>")}});return H;function y(I){I=I||i.stringify;return i.isFunction(I)?I:J;function J(K){return K[I]}}function p(J,K){return{notFound:J.notFound&&i.templatify(J.notFound),pending:J.pending&&i.templatify(J.pending),header:J.header&&i.templatify(J.header),footer:J.footer&&i.templatify(J.footer),suggestion:J.suggestion||I};function I(L){return d("<div>").text(K(L))}}function o(I){return/^[_a-zA-Z0-9-]+$/.test(I)}}();var e=function(){function n(J,G){var H=this;J=J||{};if(!J.node){d.error("node is required")}G.mixin(this);this.$node=d(J.node);this.query=null;this.datasets=i.map(J.datasets,I);function I(L){var K=H.$node.find(L.node).first();L.node=K.length?K:d("<div>").appendTo(H.$node);return new a(L,G)}}i.mixin(n.prototype,k,{_onSelectableClick:function z(G){this.trigger("selectableClicked",d(G.currentTarget))},_onRendered:function m(I,J,G,H){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",J,G,H)},_onCleared:function B(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function x(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function o(){return i.every(this.datasets,G);function G(H){return H.isEmpty()}},_getSelectables:function C(){return this.$node.find(this.selectors.selectable)},_removeCursor:function u(){var G=this.getActiveSelectable();G&&G.removeClass(this.classes.cursor)},_ensureVisible:function A(J){var G,I,H,K;G=J.position().top;I=G+J.outerHeight(true);H=this.$node.scrollTop();K=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);if(G<0){this.$node.scrollTop(H+G)}else{if(K<I){this.$node.scrollTop(H+(I-K))}}},bind:function(){var H=this,G;G=i.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,G);i.each(this.datasets,function(I){I.onSync("asyncRequested",H._propagate,H).onSync("asyncCanceled",H._propagate,H).onSync("asyncReceived",H._propagate,H).onSync("rendered",H._onRendered,H).onSync("cleared",H._onCleared,H)});return this},isOpen:function y(){return this.$node.hasClass(this.classes.open)},open:function v(){this.$node.addClass(this.classes.open)},close:function w(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function F(G){this.$node.attr("dir",G)},selectableRelativeToCursor:function l(K){var I,H,J,G;H=this.getActiveSelectable();I=this._getSelectables();J=H?I.index(H):-1;G=J+K;G=(G+1)%(I.length+1)-1;G=G<-1?I.length-1:G;return G===-1?null:I.eq(G)},setCursor:function E(G){this._removeCursor();if(G=G&&G.first()){G.addClass(this.classes.cursor);this._ensureVisible(G)}},getSelectableData:function r(G){return G&&G.length?a.extractData(G):null},getActiveSelectable:function q(){var G=this._getSelectables().filter(this.selectors.cursor).first();return G.length?G:null},getTopSelectable:function t(){var G=this._getSelectables().first();return G.length?G:null},update:function p(H){var G=H!==this.query;if(G){this.query=H;i.each(this.datasets,I)}return G;function I(J){J.update(H)}},empty:function s(){i.each(this.datasets,G);this.query=null;this.$node.addClass(this.classes.empty);function G(H){H.clear()}},destroy:function D(){this.$node.off(".tt");this.$node=d("<div>");i.each(this.datasets,G);function G(H){H.destroy()}}});return n}();var c=function(){var u=e.prototype;function o(){e.apply(this,[].slice.call(arguments,0))}i.mixin(o.prototype,e.prototype,{open:function p(){!this._allDatasetsEmpty()&&this._show();return u.open.apply(this,[].slice.call(arguments,0))},close:function t(){this._hide();return u.close.apply(this,[].slice.call(arguments,0))},_onRendered:function n(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}return u._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function l(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}return u._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function m(s){this.$node.css(s==="ltr"?this.css.ltr:this.css.rtl);return u.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function q(){this.$node.hide()},_show:function r(){this.$node.css("display","block")}});return o}();var h=function(){function C(Y,Z){var ah,ac,ab,ae,ad,ag,aj,af,ak,ai,aa;Y=Y||{};if(!Y.input){d.error("missing input")}if(!Y.menu){d.error("missing menu")}if(!Y.eventBus){d.error("missing event bus")}Z.mixin(this);this.eventBus=Y.eventBus;this.minLength=i.isNumber(Y.minLength)?Y.minLength:1;this.input=Y.input;this.menu=Y.menu;this.enabled=true;this.active=false;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);ah=T(this,"activate","open","_onFocused");ac=T(this,"deactivate","_onBlurred");ab=T(this,"isActive","isOpen","_onEnterKeyed");ae=T(this,"isActive","isOpen","_onTabKeyed");ad=T(this,"isActive","_onEscKeyed");ag=T(this,"isActive","open","_onUpKeyed");aj=T(this,"isActive","open","_onDownKeyed");af=T(this,"isActive","isOpen","_onLeftKeyed");ak=T(this,"isActive","isOpen","_onRightKeyed");ai=T(this,"_openIfActive","_onQueryChanged");aa=T(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",ah,this).onSync("blurred",ac,this).onSync("enterKeyed",ab,this).onSync("tabKeyed",ae,this).onSync("escKeyed",ad,this).onSync("upKeyed",ag,this).onSync("downKeyed",aj,this).onSync("leftKeyed",af,this).onSync("rightKeyed",ak,this).onSync("queryChanged",ai,this).onSync("whitespaceChanged",aa,this).onSync("langDirChanged",this._onLangDirChanged,this)}i.mixin(C.prototype,{_hacks:function K(){var Z,Y;Z=this.input.$input||d("<div>");Y=this.menu.$node||d("<div>");Z.on("blur.tt",function(ab){var ad,ac,aa;ad=document.activeElement;ac=Y.is(ad);aa=Y.has(ad).length>0;if(i.isMsie()&&(ac||aa)){ab.preventDefault();ab.stopImmediatePropagation();i.defer(function(){Z.focus()})}});Y.on("mousedown.tt",function(aa){aa.preventDefault()})},_onSelectableClicked:function z(Z,Y){this.select(Y)},_onDatasetCleared:function v(){this._updateHint()},_onDatasetRendered:function m(aa,ab,Y,Z){this._updateHint();this.eventBus.trigger("render",Y,Z,ab)},_onAsyncRequested:function B(Y,aa,Z){this.eventBus.trigger("asyncrequest",Z,aa)},_onAsyncCanceled:function G(Y,aa,Z){this.eventBus.trigger("asynccancel",Z,aa)},_onAsyncReceived:function o(Y,aa,Z){this.eventBus.trigger("asyncreceive",Z,aa)},_onFocused:function V(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function y(){if(this.input.hasQueryChangedSinceLastFocus()){this.eventBus.trigger("change",this.input.getQuery())}},_onEnterKeyed:function r(aa,Z){var Y;if(Y=this.menu.getActiveSelectable()){this.select(Y)&&Z.preventDefault()}},_onTabKeyed:function u(aa,Z){var Y;if(Y=this.menu.getActiveSelectable()){this.select(Y)&&Z.preventDefault()}else{if(Y=this.menu.getTopSelectable()){this.autocomplete(Y)&&Z.preventDefault()}}},_onEscKeyed:function H(){this.close()},_onUpKeyed:function P(){this.moveCursor(-1)},_onDownKeyed:function U(){this.moveCursor(+1)},_onLeftKeyed:function I(){if(this.dir==="rtl"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getTopSelectable())}},_onRightKeyed:function J(){if(this.dir==="ltr"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getTopSelectable())}},_onQueryChanged:function x(Z,Y){this._minLengthMet(Y)?this.menu.update(Y):this.menu.empty()},_onWhitespaceChanged:function X(){this._updateHint()},_onLangDirChanged:function S(Z,Y){if(this.dir!==Y){this.dir=Y;this.menu.setLanguageDirection(Y)}},_openIfActive:function R(){this.isActive()&&this.open()},_minLengthMet:function W(Y){Y=i.isString(Y)?Y:this.input.getQuery()||"";return Y.length>=this.minLength},_updateHint:function E(){var Z,ad,ae,ac,ab,Y,aa;Z=this.menu.getTopSelectable();ad=this.menu.getSelectableData(Z);ae=this.input.getInputValue();if(ad&&!i.isBlankString(ae)&&!this.input.hasOverflow()){ac=g.normalizeQuery(ae);ab=i.escapeRegExChars(ac);Y=new RegExp("^(?:"+ab+")(.+$)","i");aa=Y.exec(ad.val);aa&&this.input.setHint(ae+aa[1])}else{this.input.clearHint()}},isEnabled:function O(){return this.enabled},enable:function t(){this.enabled=true},disable:function s(){this.enabled=false},isActive:function Q(){return this.active},activate:function w(){if(this.isActive()){return true}else{if(!this.isEnabled()||this.eventBus.before("active")){return false}else{this.active=true;this.eventBus.trigger("active");return true}}},deactivate:function p(){if(!this.isActive()){return true}else{if(this.eventBus.before("idle")){return false}else{this.active=false;this.close();this.eventBus.trigger("idle");return true}}},isOpen:function n(){return this.menu.isOpen()},open:function D(){if(!this.isOpen()&&!this.eventBus.before("open")){this.menu.open();this._updateHint();this.eventBus.trigger("open")}return this.isOpen()},close:function L(){if(this.isOpen()&&!this.eventBus.before("close")){this.menu.close();this.input.clearHint();this.input.resetInputValue();this.eventBus.trigger("close")}return !this.isOpen()},setVal:function F(Y){this.input.setQuery(i.toStr(Y))},getVal:function A(){return this.input.getQuery()},select:function N(Y){var Z=this.menu.getSelectableData(Y);if(Z&&!this.eventBus.before("select",Z.obj)){this.input.setQuery(Z.val,true);this.eventBus.trigger("select",Z.obj);this.close();return true}return false},autocomplete:function q(Y){var aa,Z,ab;aa=this.input.getQuery();Z=this.menu.getSelectableData(Y);ab=Z&&aa!==Z.val;if(ab&&!this.eventBus.before("autocomplete",Z.obj)){this.input.setQuery(Z.val);this.eventBus.trigger("autocomplete",Z.obj);return true}return false},moveCursor:function l(ad){var ab,Y,aa,ac,Z;ab=this.input.getQuery();Y=this.menu.selectableRelativeToCursor(ad);aa=this.menu.getSelectableData(Y);ac=aa?aa.obj:null;Z=this._minLengthMet()&&this.menu.update(ab);if(!Z&&!this.eventBus.before("cursorchange",ac)){this.menu.setCursor(Y);if(aa){this.input.setInputValue(aa.val)}else{this.input.resetInputValue();this._updateHint()}this.eventBus.trigger("cursorchange",ac);return true}return false},destroy:function M(){this.input.destroy();this.menu.destroy()}});return C;function T(Y){var Z=[].slice.call(arguments,1);return function(){var aa=[].slice.call(arguments);i.each(Z,function(ab){return Y[ab].apply(Y,aa)})}}}();(function(){var l,x,D;l=d.fn.typeahead;x={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};D={initialize:function m(N,M){var L;M=i.isArray(M)?M:[].slice.call(arguments,1);N=N||{};L=j(N.classNames);return this.each(K);function K(){var V,U,S,O,R,Y,X,W,P,T,Q;i.each(M,function(Z){Z.highlight=!!N.highlight});V=d(this);U=d(L.html.wrapper);S=G(N.hint);O=G(N.menu);R=N.hint!==false&&!S;Y=N.menu!==false&&!O;R&&(S=r(V,L));Y&&(O=d(L.html.menu).css(L.css.menu));S&&S.val("");V=B(V,L);if(R||Y){U.css(L.css.wrapper);V.css(R?L.css.input:L.css.inputWithNoHint);V.wrap(U).parent().prepend(R?S:null).append(Y?O:null)}Q=Y?c:e;X=new f({el:V});W=new g({hint:S,input:V},L);P=new Q({node:O,datasets:M},L);T=new h({input:W,menu:P,eventBus:X,minLength:N.minLength},L);V.data(x.www,L);V.data(x.typeahead,T)}},isEnabled:function F(){var K;s(this.first(),function(L){K=L.isEnabled()});return K},enable:function v(){s(this,function(K){K.enable()});return this},disable:function p(){s(this,function(K){K.disable()});return this},isActive:function C(){var K;s(this.first(),function(L){K=L.isActive()});return K},activate:function q(){s(this,function(K){K.activate()});return this},deactivate:function o(){s(this,function(K){K.deactivate()});return this},isOpen:function z(){var K;s(this.first(),function(L){K=L.isOpen()});return K},open:function w(){s(this,function(K){K.open()});return this},close:function y(){s(this,function(K){K.close()});return this},select:function A(L){var M=false,K=d(L);s(this.first(),function(N){M=N.select(K)});return M},autocomplete:function H(L){var M=false,K=d(L);s(this.first(),function(N){M=N.autocomplete(K)});return M},moveCursor:function t(L){var K=false;s(this.first(),function(M){K=M.moveCursor(L)});return K},val:function J(K){var L;if(!arguments.length){s(this.first(),function(M){L=M.getVal()});return L}else{s(this,function(M){M.setVal(K)});return this}},destroy:function E(){s(this,function(K,L){n(L);K.destroy()});return this}};d.fn.typeahead=function(K){if(D[K]){return D[K].apply(this,[].slice.call(arguments,1))}else{return D.initialize.apply(this,arguments)}};d.fn.typeahead.noConflict=function I(){d.fn.typeahead=l;return this};function s(L,K){L.each(function(){var N=d(this),M;(M=N.data(x.typeahead))&&K(M,N)})}function r(L,K){return L.clone().addClass(K.classes.hint).removeData().css(K.css.hint).css(u(L)).prop("readonly",true).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function B(M,K){M.data(x.attrs,{dir:M.attr("dir"),autocomplete:M.attr("autocomplete"),spellcheck:M.attr("spellcheck"),style:M.attr("style")});M.addClass(K.classes.input).attr({autocomplete:"off",spellcheck:false});try{!M.attr("dir")&&M.attr("dir","auto")}catch(L){}return M}function u(K){return{backgroundAttachment:K.css("background-attachment"),backgroundClip:K.css("background-clip"),backgroundColor:K.css("background-color"),backgroundImage:K.css("background-image"),backgroundOrigin:K.css("background-origin"),backgroundPosition:K.css("background-position"),backgroundRepeat:K.css("background-repeat"),backgroundSize:K.css("background-size")}}function n(M){var K,L;K=M.data(x.www);L=M.parent().filter(K.selectors.wrapper);i.each(M.data(x.attrs),function(O,N){i.isUndefined(O)?M.removeAttr(N):M.attr(N,O)});M.removeData(x.typeahead).removeData(x.www).removeData(x.attr).removeClass(K.classes.input);if(L.length){M.detach().insertAfter(L);L.remove()}}function G(M){var L,K;L=i.isJQuery(M)||i.isElement(M);K=L?d(M).first():[];return K.length?K:null}})()});+function(c){var b=function(e,d){this.options=d;this.$element=c(e);this.$backdrop=this.isShown=null;if(this.options.remote){this.$element.load(this.options.remote)}};b.DEFAULTS={backdrop:true,keyboard:true,show:true};b.prototype.toggle=function(d){return this[!this.isShown?"show":"hide"](d)};b.prototype.show=function(g){var d=this;var f=c.Event("show.bs.modal",{relatedTarget:g});this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this));this.backdrop(function(){var i=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show();if(i){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();var h=c.Event("shown.bs.modal",{relatedTarget:g});i?d.$element.find(".modal-dialog").one(c.support.transition.end,function(){d.$element.focus().trigger(h)}).emulateTransitionEnd(300):d.$element.focus().trigger(h)})};b.prototype.hide=function(d){if(d){d.preventDefault()}d=c.Event("hide.bs.modal");this.$element.trigger(d);if(!this.isShown||d.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.modal");c.support.transition&&this.$element.hasClass("fade")?this.$element.one(c.support.transition.end,c.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};b.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(d){if(this.$element[0]!==d.target&&!this.$element.has(d.target).length){this.$element.focus()}},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",c.proxy(function(d){d.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}}};b.prototype.hideModal=function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(g){var f=this;var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&e;this.$backdrop=c('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",c.proxy(function(h){if(h.target!==h.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!g){return}d?this.$backdrop.one(c.support.transition.end,g).emulateTransitionEnd(150):g()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,g).emulateTransitionEnd(150):g()}else{if(g){g()}}}};var a=c.fn.modal;c.fn.modal=function(d,e){return this.each(function(){var h=c(this);var g=h.data("bs.modal");var f=c.extend({},b.DEFAULTS,h.data(),typeof d=="object"&&d);if(!g){h.data("bs.modal",(g=new b(this,f)))}if(typeof d=="string"){g[d](e)}else{if(f.show){g.show(e)}}})};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var h=c(this);var f=h.attr("href");var d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,"")));var g=d.data("modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());i.preventDefault();d.modal(g,this).one("hide",function(){h.is(":visible")&&h.focus()})});c(document).on("show.bs.modal",".modal",function(){c(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){c(document.body).removeClass("modal-open")})}(jQuery);(function(a,b){if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(e,f,d){a.Backbone=b(a,d,e,f)})}else{if(typeof exports!=="undefined"){var c=require("underscore");b(a,exports,c)}else{a.Backbone=b(a,{},a._,(a.jQuery||a.Zepto||a.ender||a.$))}}}(this,function(v,B,N,z){var D=v.Backbone;var g=[];var F=g.push;var o=g.slice;var u=g.splice;B.VERSION="1.1.2";B.$=z;B.noConflict=function(){v.Backbone=D;return this};B.emulateHTTP=false;B.emulateJSON=false;var L=B.Events={on:function(O,R,Q){if(!y(this,"on",O,[R,Q])||!R){return this}this._events||(this._events={});var P=this._events[O]||(this._events[O]=[]);P.push({callback:R,context:Q,ctx:Q||this});return this},once:function(P,S,Q){if(!y(this,"once",P,[S,Q])||!S){return this}var O=this;var R=N.once(function(){O.off(P,R);S.apply(this,arguments)});R._callback=S;return this.on(P,R,Q)},off:function(O,X,P){var V,W,Y,U,T,Q,S,R;if(!this._events||!y(this,"off",O,[X,P])){return this}if(!O&&!X&&!P){this._events=void 0;return this}U=O?[O]:N.keys(this._events);for(T=0,Q=U.length;T<Q;T++){O=U[T];if(Y=this._events[O]){this._events[O]=V=[];if(X||P){for(S=0,R=Y.length;S<R;S++){W=Y[S];if((X&&X!==W.callback&&X!==W.callback._callback)||(P&&P!==W.context)){V.push(W)}}}if(!V.length){delete this._events[O]}}}return this},trigger:function(Q){if(!this._events){return this}var P=o.call(arguments,1);if(!y(this,"trigger",Q,P)){return this}var R=this._events[Q];var O=this._events.all;if(R){b(R,P)}if(O){b(O,arguments)}return this},stopListening:function(R,P,T){var Q=this._listeningTo;if(!Q){return this}var O=!P&&!T;if(!T&&typeof P==="object"){T=this}if(R){(Q={})[R._listenId]=R}for(var S in Q){R=Q[S];R.off(P,T,this);if(O||N.isEmpty(R._events)){delete this._listeningTo[S]}}return this}};var x=/\s+/;var y=function(V,T,P,S){if(!P){return true}if(typeof P==="object"){for(var R in P){V[T].apply(V,[R,P[R]].concat(S))}return false}if(x.test(P)){var U=P.split(x);for(var Q=0,O=U.length;Q<O;Q++){V[T].apply(V,[U[Q]].concat(S))}return false}return true};var b=function(T,R){var U,S=-1,Q=T.length,P=R[0],O=R[1],V=R[2];switch(R.length){case 0:while(++S<Q){(U=T[S]).callback.call(U.ctx)}return;case 1:while(++S<Q){(U=T[S]).callback.call(U.ctx,P)}return;case 2:while(++S<Q){(U=T[S]).callback.call(U.ctx,P,O)}return;case 3:while(++S<Q){(U=T[S]).callback.call(U.ctx,P,O,V)}return;default:while(++S<Q){(U=T[S]).callback.apply(U.ctx,R)}return}};var E={listenTo:"on",listenToOnce:"once"};N.each(E,function(O,P){L[P]=function(S,Q,U){var R=this._listeningTo||(this._listeningTo={});var T=S._listenId||(S._listenId=N.uniqueId("l"));R[T]=S;if(!U&&typeof Q==="object"){U=this}S[O](Q,U,this);return this}});L.bind=L.on;L.unbind=L.off;N.extend(B,L);var G=B.Model=function(O,Q){var P=O||{};Q||(Q={});this.cid=N.uniqueId("c");this.attributes={};if(Q.collection){this.collection=Q.collection}if(Q.parse){P=this.parse(P,Q)||{}}P=N.defaults({},P,N.result(this,"defaults"));this.set(P,Q);this.changed={};this.initialize.apply(this,arguments)};N.extend(G.prototype,L,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(O){return N.clone(this.attributes)},sync:function(){return B.sync.apply(this,arguments)},get:function(O){return this.attributes[O]},escape:function(O){return N.escape(this.get(O))},has:function(O){return this.get(O)!=null},set:function(W,O,aa){var U,X,Y,V,T,Z,Q,S;if(W==null){return this}if(typeof W==="object"){X=W;aa=O}else{(X={})[W]=O}aa||(aa={});if(!this._validate(X,aa)){return false}Y=aa.unset;T=aa.silent;V=[];Z=this._changing;this._changing=true;if(!Z){this._previousAttributes=N.clone(this.attributes);this.changed={}}S=this.attributes,Q=this._previousAttributes;if(this.idAttribute in X){this.id=X[this.idAttribute]}for(U in X){O=X[U];if(!N.isEqual(S[U],O)){V.push(U)}if(!N.isEqual(Q[U],O)){this.changed[U]=O}else{delete this.changed[U]}Y?delete S[U]:S[U]=O}if(!T){if(V.length){this._pending=aa}for(var R=0,P=V.length;R<P;R++){this.trigger("change:"+V[R],this,S[V[R]],aa)}}if(Z){return this}if(!T){while(this._pending){aa=this._pending;this._pending=false;this.trigger("change",this,aa)}}this._pending=false;this._changing=false;return this},unset:function(O,P){return this.set(O,void 0,N.extend({},P,{unset:true}))},clear:function(P){var O={};for(var Q in this.attributes){O[Q]=void 0}return this.set(O,N.extend({},P,{unset:true}))},hasChanged:function(O){if(O==null){return !N.isEmpty(this.changed)}return N.has(this.changed,O)},changedAttributes:function(Q){if(!Q){return this.hasChanged()?N.clone(this.changed):false}var S,R=false;var P=this._changing?this._previousAttributes:this.attributes;for(var O in Q){if(N.isEqual(P[O],(S=Q[O]))){continue}(R||(R={}))[O]=S}return R},previous:function(O){if(O==null||!this._previousAttributes){return null}return this._previousAttributes[O]},previousAttributes:function(){return N.clone(this._previousAttributes)},fetch:function(P){P=P?N.clone(P):{};if(P.parse===void 0){P.parse=true}var O=this;var Q=P.success;P.success=function(R){if(!O.set(O.parse(R,P),P)){return false}if(Q){Q(O,R,P)}O.trigger("sync",O,R,P)};J(this,P);return this.sync("read",this,P)},save:function(S,P,W){var T,O,V,Q=this.attributes;if(S==null||typeof S==="object"){T=S;W=P}else{(T={})[S]=P}W=N.extend({validate:true},W);if(T&&!W.wait){if(!this.set(T,W)){return false}}else{if(!this._validate(T,W)){return false}}if(T&&W.wait){this.attributes=N.extend({},Q,T)}if(W.parse===void 0){W.parse=true}var R=this;var U=W.success;W.success=function(Y){R.attributes=Q;var X=R.parse(Y,W);if(W.wait){X=N.extend(T||{},X)}if(N.isObject(X)&&!R.set(X,W)){return false}if(U){U(R,Y,W)}R.trigger("sync",R,Y,W)};J(this,W);O=this.isNew()?"create":(W.patch?"patch":"update");if(O==="patch"){W.attrs=T}V=this.sync(O,this,W);if(T&&W.wait){this.attributes=Q}return V},destroy:function(P){P=P?N.clone(P):{};var O=this;var S=P.success;var Q=function(){O.trigger("destroy",O,O.collection,P)};P.success=function(T){if(P.wait||O.isNew()){Q()}if(S){S(O,T,P)}if(!O.isNew()){O.trigger("sync",O,T,P)}};if(this.isNew()){P.success();return false}J(this,P);var R=this.sync("delete",this,P);if(!P.wait){Q()}return R},url:function(){var O=N.result(this,"urlRoot")||N.result(this.collection,"url")||s();if(this.isNew()){return O}return O.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(P,O){return P},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return !this.has(this.idAttribute)},isValid:function(O){return this._validate({},N.extend(O||{},{validate:true}))},_validate:function(Q,P){if(!P.validate||!this.validate){return true}Q=N.extend({},this.attributes,Q);var O=this.validationError=this.validate(Q,P)||null;if(!O){return true}this.trigger("invalid",this,O,N.extend(P,{validationError:O}));return false}});var a=["keys","values","pairs","invert","pick","omit"];N.each(a,function(O){G.prototype[O]=function(){var P=o.call(arguments);P.unshift(this.attributes);return N[O].apply(N,P)}});var c=B.Collection=function(P,O){O||(O={});if(O.model){this.model=O.model}if(O.comparator!==void 0){this.comparator=O.comparator}this._reset();this.initialize.apply(this,arguments);if(P){this.reset(P,N.extend({silent:true},O))}};var p={add:true,remove:true,merge:true};var M={add:true,remove:false};N.extend(c.prototype,L,{model:G,initialize:function(){},toJSON:function(O){return this.map(function(P){return P.toJSON(O)})},sync:function(){return B.sync.apply(this,arguments)},add:function(P,O){return this.set(P,N.extend({merge:false},O,M))},remove:function(U,R){var T=!N.isArray(U);U=T?[U]:N.clone(U);R||(R={});var S,O,Q,P;for(S=0,O=U.length;S<O;S++){P=U[S]=this.get(U[S]);if(!P){continue}delete this._byId[P.id];delete this._byId[P.cid];Q=this.indexOf(P);this.models.splice(Q,1);this.length--;if(!R.silent){R.index=Q;P.trigger("remove",P,this,R)}this._removeReference(P,R)}return T?U[0]:U},set:function(ah,P){P=N.defaults({},P,p);if(P.parse){ah=this.parse(ah,P)}var S=!N.isArray(ah);ah=S?(ah?[ah]:[]):N.clone(ah);var ad,ab,X,Q,Z,W,ag;var U=P.at;var af=this.model;var O=this.comparator&&(U==null)&&P.sort!==false;var ae=N.isString(this.comparator)?this.comparator:null;var aj=[],aa=[],Y={};var V=P.add,R=P.merge,ai=P.remove;var ac=!O&&V&&ai?[]:false;for(ad=0,ab=ah.length;ad<ab;ad++){Z=ah[ad]||{};if(Z instanceof G){X=Q=Z}else{X=Z[af.prototype.idAttribute||"id"]}if(W=this.get(X)){if(ai){Y[W.cid]=true}if(R){Z=Z===Q?Q.attributes:Z;if(P.parse){Z=W.parse(Z,P)}W.set(Z,P);if(O&&!ag&&W.hasChanged(ae)){ag=true}}ah[ad]=W}else{if(V){Q=ah[ad]=this._prepareModel(Z,P);if(!Q){continue}aj.push(Q);this._addReference(Q,P)}}Q=W||Q;if(ac&&(Q.isNew()||!Y[Q.id])){ac.push(Q)}Y[Q.id]=true}if(ai){for(ad=0,ab=this.length;ad<ab;++ad){if(!Y[(Q=this.models[ad]).cid]){aa.push(Q)}}if(aa.length){this.remove(aa,P)}}if(aj.length||(ac&&ac.length)){if(O){ag=true}this.length+=aj.length;if(U!=null){for(ad=0,ab=aj.length;ad<ab;ad++){this.models.splice(U+ad,0,aj[ad])}}else{if(ac){this.models.length=0}var T=ac||aj;for(ad=0,ab=T.length;ad<ab;ad++){this.models.push(T[ad])}}}if(ag){this.sort({silent:true})}if(!P.silent){for(ad=0,ab=aj.length;ad<ab;ad++){(Q=aj[ad]).trigger("add",Q,this,P)}if(ag||(ac&&ac.length)){this.trigger("sort",this,P)}}return S?ah[0]:ah},reset:function(R,P){P||(P={});for(var Q=0,O=this.models.length;Q<O;Q++){this._removeReference(this.models[Q],P)}P.previousModels=this.models;this._reset();R=this.add(R,N.extend({silent:true},P));if(!P.silent){this.trigger("reset",this,P)}return R},push:function(P,O){return this.add(P,N.extend({at:this.length},O))},pop:function(P){var O=this.at(this.length-1);this.remove(O,P);return O},unshift:function(P,O){return this.add(P,N.extend({at:0},O))},shift:function(P){var O=this.at(0);this.remove(O,P);return O},slice:function(){return o.apply(this.models,arguments)},get:function(O){if(O==null){return void 0}return this._byId[O]||this._byId[O.id]||this._byId[O.cid]},at:function(O){return this.models[O]},where:function(O,P){if(N.isEmpty(O)){return P?void 0:[]}return this[P?"find":"filter"](function(Q){for(var R in O){if(O[R]!==Q.get(R)){return false}}return true})},findWhere:function(O){return this.where(O,true)},sort:function(O){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}O||(O={});if(N.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(N.bind(this.comparator,this))}if(!O.silent){this.trigger("sort",this,O)}return this},pluck:function(O){return N.invoke(this.models,"get",O)},fetch:function(O){O=O?N.clone(O):{};if(O.parse===void 0){O.parse=true}var Q=O.success;var P=this;O.success=function(R){var S=O.reset?"reset":"set";P[S](R,O);if(Q){Q(P,R,O)}P.trigger("sync",P,R,O)};J(this,O);return this.sync("read",this,O)},create:function(P,O){O=O?N.clone(O):{};if(!(P=this._prepareModel(P,O))){return false}if(!O.wait){this.add(P,O)}var R=this;var Q=O.success;O.success=function(S,T){if(O.wait){R.add(S,O)}if(Q){Q(S,T,O)}};P.save(null,O);return P},parse:function(P,O){return P},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(Q,P){if(Q instanceof G){return Q}P=P?N.clone(P):{};P.collection=this;var O=new this.model(Q,P);if(!O.validationError){return O}this.trigger("invalid",this,O.validationError,P);return false},_addReference:function(P,O){this._byId[P.cid]=P;if(P.id!=null){this._byId[P.id]=P}if(!P.collection){P.collection=this}P.on("all",this._onModelEvent,this)},_removeReference:function(P,O){if(this===P.collection){delete P.collection}P.off("all",this._onModelEvent,this)},_onModelEvent:function(Q,P,R,O){if((Q==="add"||Q==="remove")&&R!==this){return}if(Q==="destroy"){this.remove(P,O)}if(P&&Q==="change:"+P.idAttribute){delete this._byId[P.previous(P.idAttribute)];if(P.id!=null){this._byId[P.id]=P}}this.trigger.apply(this,arguments)}});var A=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];N.each(A,function(O){c.prototype[O]=function(){var P=o.call(arguments);P.unshift(this.models);return N[O].apply(N,P)}});var l=["groupBy","countBy","sortBy","indexBy"];N.each(l,function(O){c.prototype[O]=function(R,P){var Q=N.isFunction(R)?R:function(S){return S.get(R)};return N[O](this.models,Q,P)}});var I=B.View=function(O){this.cid=N.uniqueId("view");O||(O={});N.extend(this,N.pick(O,e));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var w=/^(\S+)\s*(.*)$/;var e=["model","collection","el","id","attributes","className","tagName","events"];N.extend(I.prototype,L,{tagName:"div",$:function(O){return this.$el.find(O)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(O,P){if(this.$el){this.undelegateEvents()}this.$el=O instanceof B.$?O:B.$(O);this.el=this.$el[0];if(P!==false){this.delegateEvents()}return this},delegateEvents:function(S){if(!(S||(S=N.result(this,"events")))){return this}this.undelegateEvents();for(var R in S){var T=S[R];if(!N.isFunction(T)){T=this[S[R]]}if(!T){continue}var Q=R.match(w);var P=Q[1],O=Q[2];T=N.bind(T,this);P+=".delegateEvents"+this.cid;if(O===""){this.$el.on(P,T)}else{this.$el.on(P,O,T)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var O=N.extend({},N.result(this,"attributes"));if(this.id){O.id=N.result(this,"id")}if(this.className){O["class"]=N.result(this,"className")}var P=B.$("<"+N.result(this,"tagName")+">").attr(O);this.setElement(P,false)}else{this.setElement(N.result(this,"el"),false)}}});B.sync=function(U,P,O){var R=k[U];N.defaults(O||(O={}),{emulateHTTP:B.emulateHTTP,emulateJSON:B.emulateJSON});var T={type:R,dataType:"json"};if(!O.url){T.url=N.result(P,"url")||s()}if(O.data==null&&P&&(U==="create"||U==="update"||U==="patch")){T.contentType="application/json";T.data=JSON.stringify(O.attrs||P.toJSON(O))}if(O.emulateJSON){T.contentType="application/x-www-form-urlencoded";T.data=T.data?{model:T.data}:{}}if(O.emulateHTTP&&(R==="PUT"||R==="DELETE"||R==="PATCH")){T.type="POST";if(O.emulateJSON){T.data._method=R}var Q=O.beforeSend;O.beforeSend=function(V){V.setRequestHeader("X-HTTP-Method-Override",R);if(Q){return Q.apply(this,arguments)}}}if(T.type!=="GET"&&!O.emulateJSON){T.processData=false}if(T.type==="PATCH"&&j){T.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var S=O.xhr=B.ajax(N.extend(T,O));P.trigger("request",P,S,O);return S};var j=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};B.ajax=function(){return B.$.ajax.apply(B.$,arguments)};var q=B.Router=function(O){O||(O={});if(O.routes){this.routes=O.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var r=/\((.*?)\)/g;var t=/(\(\?)?:\w+/g;var d=/\*\w+/g;var h=/[\-{}\[\]+?.,\\\^$|#\s]/g;N.extend(q.prototype,L,{initialize:function(){},route:function(P,Q,R){if(!N.isRegExp(P)){P=this._routeToRegExp(P)}if(N.isFunction(Q)){R=Q;Q=""}if(!R){R=this[Q]}var O=this;B.history.route(P,function(T){var S=O._extractParameters(P,T);O.execute(R,S);O.trigger.apply(O,["route:"+Q].concat(S));O.trigger("route",Q,S);B.history.trigger("route",O,Q,S)});return this},execute:function(P,O){if(P){P.apply(this,O)}},navigate:function(P,O){B.history.navigate(P,O);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=N.result(this,"routes");var P,O=N.keys(this.routes);while((P=O.pop())!=null){this.route(P,this.routes[P])}},_routeToRegExp:function(O){O=O.replace(h,"\\$&").replace(r,"(?:$1)?").replace(t,function(Q,P){return P?Q:"([^/?]+)"}).replace(d,"([^?]*?)");return new RegExp("^"+O+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(O,P){var Q=O.exec(P).slice(1);return N.map(Q,function(S,R){if(R===Q.length-1){return S||null}return S?decodeURIComponent(S):null})}});var i=B.History=function(){this.handlers=[];N.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var C=/^[#\/]|\s+$/g;var f=/^\/+|\/+$/g;var K=/msie [\w.]+/;var n=/\/$/;var H=/#.*$/;i.started=false;N.extend(i.prototype,L,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(P){var O=(P||this).location.href.match(/#(.*)$/);return O?O[1]:""},getFragment:function(Q,P){if(Q==null){if(this._hasPushState||!this._wantsHashChange||P){Q=decodeURI(this.location.pathname+this.location.search);var O=this.root.replace(n,"");if(!Q.indexOf(O)){Q=Q.slice(O.length)}}else{Q=this.getHash()}}return Q.replace(C,"")},start:function(Q){if(i.started){throw new Error("Backbone.history has already been started")}i.started=true;this.options=N.extend({root:"/"},this.options,Q);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var P=this.getFragment();var O=document.documentMode;var R=(K.exec(navigator.userAgent.toLowerCase())&&(!O||O<=7));this.root=("/"+this.root+"/").replace(f,"/");if(R&&this._wantsHashChange){var T=B.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=T.hide().appendTo("body")[0].contentWindow;this.navigate(P)}if(this._hasPushState){B.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!R){B.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=P;var S=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){this.fragment=this.getFragment(null,true);this.location.replace(this.root+"#"+this.fragment);return true}else{if(this._hasPushState&&this.atRoot()&&S.hash){this.fragment=this.getHash().replace(C,"");this.history.replaceState({},document.title,this.root+this.fragment)}}}if(!this.options.silent){return this.loadUrl()}},stop:function(){B.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);if(this._checkUrlInterval){clearInterval(this._checkUrlInterval)}i.started=false},route:function(O,P){this.handlers.unshift({route:O,callback:P})},checkUrl:function(P){var O=this.getFragment();if(O===this.fragment&&this.iframe){O=this.getFragment(this.getHash(this.iframe))}if(O===this.fragment){return false}if(this.iframe){this.navigate(O)}this.loadUrl()},loadUrl:function(O){O=this.fragment=this.getFragment(O);return N.any(this.handlers,function(P){if(P.route.test(O)){P.callback(O);return true}})},navigate:function(Q,P){if(!i.started){return false}if(!P||P===true){P={trigger:!!P}}var O=this.root+(Q=this.getFragment(Q||""));Q=Q.replace(H,"");if(this.fragment===Q){return}this.fragment=Q;if(Q===""&&O!=="/"){O=O.slice(0,-1)}if(this._hasPushState){this.history[P.replace?"replaceState":"pushState"]({},document.title,O)}else{if(this._wantsHashChange){this._updateHash(this.location,Q,P.replace);if(this.iframe&&(Q!==this.getFragment(this.getHash(this.iframe)))){if(!P.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,Q,P.replace)}}else{return this.location.assign(O)}}if(P.trigger){return this.loadUrl(Q)}},_updateHash:function(O,Q,R){if(R){var P=O.href.replace(/(javascript:|#).*$/,"");O.replace(P+"#"+Q)}else{O.hash="#"+Q}}});B.history=new i;var m=function(O,Q){var P=this;var S;if(O&&N.has(O,"constructor")){S=O.constructor}else{S=function(){return P.apply(this,arguments)}}N.extend(S,P,Q);var R=function(){this.constructor=S};R.prototype=P.prototype;S.prototype=new R;if(O){N.extend(S.prototype,O)}S.__super__=P.prototype;return S};G.extend=c.extend=q.extend=I.extend=i.extend=m;var s=function(){throw new Error('A "url" property or function must be specified')};var J=function(Q,P){var O=P.error;P.error=function(R){if(O){O(Q,R,P)}Q.trigger("error",Q,R,P)}};return B}));(function(a){if(typeof define==="function"&&define.amd){define(["underscore","backbone","exports"],a)}else{if(typeof exports==="object"){a(require("underscore"),require("backbone"),exports)}else{a(_,Backbone,{})}}}(function(j,i,e){e._handlers=[];e.addHandler=function(o){o=j.map(j.flatten([o]),function(p){return j.extend({updateModel:true,updateView:true,updateMethod:"text"},p)});this._handlers=this._handlers.concat(o)};e.ViewMixin={_modelBindings:null,unstickit:function(o,r){if(j.isObject(r)){j.each(j.keys(r),function(s){this.unstickit(o,s)},this);return}var q=[],p=[];j.each(this._modelBindings,function(t,s){if(o&&t.model!==o){return}if(r&&t.config.selector!=r){return}p.push(t.config._destroy);t.model.off(t.event,t.fn);q.push(t.model);delete this._modelBindings[s]},this);j.invoke(j.uniq(q),"trigger","stickit:unstuck",this.cid);j.each(j.uniq(p),function(s){s.call(this)},this);this._modelBindings=j.compact(this._modelBindings);this.$el.off(".stickit"+(o?"."+o.cid:""),r)},stickit:function(p,r){var q=p||this.model,s=r||j.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]);this.addBinding(q,s);var o=this.remove;if(!o.stickitWrapped){this.remove=function(){var t=this;this.unstickit();if(o){t=o.apply(this,arguments)}return t}}this.remove.stickitWrapped=true},addBinding:function(v,q,y){var z,A,p,r,u,w=v||this.model,t=".stickit."+w.cid,x=y||{},s=j.uniqueId();if(j.isString(q)){u=q}else{var o=q;j.each(o,function(C,B){this.addBinding(w,B,o[B])},this);return}z=u===":el"?this.$el:this.$(u);this.unstickit(w,u);if(!z.length){return}if(j.isString(x)){x={observe:x}}if(j.isFunction(x.observe)){x.observe=x.observe.call(this)}r=l(z,x);r.selector=u;p=r.observe;r.bindId=s;r.view=this;A=j.extend({stickitChange:r},r.setOptions);r._destroy=function(){a(this,r.destroy,z,w,r)};g(this,z,r,w,p);c(this,z,r,w,p);if(p){j.each(r.events,function(B){var C=B+t;var D=function(E){var F=r.getVal.call(this,z,E,r,j.rest(arguments));if(f(this,r.updateModel,F,E,r)){d(w,p,F,A,this,r)}};D=j.bind(D,this);if(u===":el"){this.$el.on(C,D)}else{this.$el.on(C,u,D)}},this);j.each(j.flatten([p]),function(B){n(w,this,"change:"+B,r,function(D,E,C){var F=C&&C.stickitChange&&C.stickitChange.bindId||null;if(F!==s){k(this,z,r,h(D,p,r,this),D)}})},this);k(this,z,r,h(w,p,r,this),w,true)}a(this,r.initialize,z,w,r)}};j.extend(i.View.prototype,e.ViewMixin);var m=function(r,q){var p=(q||"").split(".");var o=j.reduce(p,function(s,t){return s[t]},r);return o==null?r:o};var a=function(o,p){if(p){return(j.isString(p)?m(o,p):p).apply(o,j.rest(arguments,2))}};var b=function(o){return o.find("option").not(function(){return !this.selected})};var f=function(p,o){if(j.isBoolean(o)){return o}else{if(j.isFunction(o)||j.isString(o)){return a.apply(this,arguments)}}return false};var n=function(q,o,s,p,r){q.on(s,r,o);o._modelBindings.push({model:q,event:s,fn:r,config:p})};var d=function(r,o,u,q,s,p){var t={};if(p.onSet){u=a(s,p.onSet,u,p)}if(p.set){a(s,p.set,o,u,q,p)}else{t[o]=u;if(j.isArray(o)&&j.isArray(u)){t=j.reduce(o,function(v,x,w){v[x]=j.has(u,w)?u[w]:null;return v},{})}r.set(t,q)}};var h=function(r,o,q,t){var u,p=function(v){return r[q.escape?"escape":"get"](v)},s=function(v){return v==null?"":v};u=j.isArray(o)?j.map(o,p):p(o);if(q.onGet){u=a(t,q.onGet,u,q)}return j.isArray(u)?j.map(u,s):s(u)};var l=e.getConfiguration=function(q,r){var o=[{updateModel:false,updateMethod:"text",update:function(t,v,s,u){if(t[u.updateMethod]){t[u.updateMethod](v)}},getVal:function(s,u,t){return s[t.updateMethod]()}}];o=o.concat(j.filter(e._handlers,function(s){return q.is(s.selector)}));o.push(r);var p=j.extend.apply(j,o);if(p.visible&&!j.has(p,"updateView")){p.updateView=false}else{if(!j.has(p,"updateView")){p.updateView=true}}return p};var g=function(o,r,q,p,t){var s=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"];j.each(q.attributes||[],function(v){var u="",w,x;v=j.clone(v);w=v.observe||(v.observe=t),x=function(){var y=j.indexOf(s,v.name,true)>-1?"prop":"attr",z=h(p,w,v,o);if(v.name==="class"){r.removeClass(u).addClass(z);u=z}else{r[y](v.name,z)}};j.each(j.flatten([w]),function(y){n(p,o,"change:"+y,q,x)});x()})};var c=function(o,r,q,p,t){if(q.visible==null){return}var s=function(){var x=q.visible,v=q.visibleFn,w=h(p,t,q,o),u=!!w;if(j.isFunction(x)||j.isString(x)){u=!!a(o,x,w,q)}if(v){a(o,v,r,u,q)}else{r.toggle(u)}};j.each(j.flatten([t]),function(u){n(p,o,"change:"+u,q,s)});s()};var k=function(p,s,r,t,q,o){if(!f(p,r.updateView,t,r)){return}a(p,r.update,s,t,q,r);if(!o){a(p,r.afterUpdate,s,t,r)}};e.addHandler([{selector:'[contenteditable="true"]',updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(o,p){o.val(p)},getVal:function(o){return o.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(o,p){o.val(p)},getVal:function(o){return o.val()}},{selector:'input[type="radio"]',events:["change"],update:function(o,p){o.filter('[value="'+p+'"]').prop("checked",true)},getVal:function(o){return o.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(q,s,p,o){if(q.length>1){s||(s=[]);q.each(function(t,u){var w=i.$(u);var v=j.indexOf(s,w.val())>-1;w.prop("checked",v)})}else{var r=j.isBoolean(s)?s:s===q.val();q.prop("checked",r)}},getVal:function(o){var p;if(o.length>1){p=j.reduce(o,function(r,s){var t=i.$(s);if(t.prop("checked")){r.push(t.val())}return r},[])}else{p=o.prop("checked");var q=o.val();if(q!=="on"&&q!=null){p=p?o.val():null}}return p}},{selector:"select",events:["change"],update:function(A,r,v,B){var w,z=B.selectOptions,y=z&&z.collection||undefined,u=A.prop("multiple");if(!z){z={};var x=function(C){return C.map(function(){return{value:this.value,label:this.text}}).get()};if(A.find("optgroup").length){y={opt_labels:[]};if(A.find("> option").length){y.opt_labels.push(undefined);j.each(A.find("> option"),function(C){y[undefined]=x(i.$(C))})}j.each(A.find("optgroup"),function(D){var C=i.$(D).attr("label");y.opt_labels.push(C);y[C]=x(i.$(D).find("option"))})}else{y=x(A.find("option"))}}z.valuePath=z.valuePath||"value";z.labelPath=z.labelPath||"label";var s=function(C,D,E){j.each(C,function(I){var G=i.$("<option/>"),H=I;var F=function(K,J){G.text(K);H=J;G.data("stickit_bind_val",H);if(!j.isArray(H)&&!j.isObject(H)){G.val(H)}};if(I==="__default__"){F(z.defaultOption.label,z.defaultOption.value)}else{F(m(I,z.labelPath),m(I,z.valuePath))}if(!u&&H!=null&&E!=null&&H===E||(j.isObject(E)&&j.isEqual(H,E))){G.prop("selected",true)}else{if(u&&j.isArray(E)){j.each(E,function(J){if(j.isObject(J)){J=m(J,z.valuePath)}if(J===H||(j.isObject(J)&&j.isEqual(H,J))){G.prop("selected",true)}})}}D.append(G)})};A.find("*").remove();var q=function(C,E){var D=window;if(E.indexOf("this.")===0){D=C}E=E.replace(/^[a-z]*\.(.+)$/,"$1");return m(D,E)};if(j.isString(y)){w=q(this,y)}else{if(j.isFunction(y)){w=a(this,y,A,B)}else{w=y}}if(w instanceof i.Collection){w=w.toJSON()}if(z.defaultOption){s(["__default__"],A)}if(j.isArray(w)){s(w,A,r)}else{if(w.opt_labels){j.each(w.opt_labels,function(C){var D=i.$("<optgroup/>").attr("label",C);s(w[C],D,r);A.append(D)})}else{var o=[],p;for(var t in w){p={};p[z.valuePath]=t;p[z.labelPath]=w[t];o.push(p)}s(j.sortBy(o,z.comparator||z.labelPath),A,r)}}},getVal:function(o){var p;if(o.prop("multiple")){p=i.$(b(o).map(function(){return i.$(this).data("stickit_bind_val")})).get()}else{p=b(o).data("stickit_bind_val")}return p}}]);i.Stickit=e;return i.Stickit}));Backbone.Validation=(function(j){var d={forceUpdate:false,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype};var e={formatLabel:function(l,k){return g[d.labelFormatter](l,k)},format:function(){var k=Array.prototype.slice.call(arguments),l=k.shift();return l.replace(/\{(\d+)\}/g,function(m,n){return typeof k[n]!=="undefined"?k[n]:m})}};var a=function(m,k,l){k=k||{};l=l||"";j.each(m,function(o,n){if(m.hasOwnProperty(n)){if(o&&typeof o==="object"&&!(o instanceof Array||o instanceof Date||o instanceof RegExp||o instanceof Backbone.Model||o instanceof Backbone.Collection)){a(o,k,l+n+".")}else{k[l+n]=o}}});return k};var b=(function(){var k=function(t){return j.reduce(j.keys(j.result(t,"validation")||{}),function(u,v){u[v]=void 0;return u},{})};var p=function(u,t){var v=u.validation?j.result(u,"validation")[t]||{}:{};if(j.isFunction(v)||j.isString(v)){v={fn:v}}if(!j.isArray(v)){v=[v]}return j.reduce(v,function(w,x){j.each(j.without(j.keys(x),"msg"),function(y){w.push({fn:i[y],val:x[y],msg:x.msg})});return w},[])};var n=function(u,t,w,v){return j.reduce(p(u,t),function(z,A){var y=j.extend({},e,i),x=A.fn.call(y,w,t,A.val,u,v);if(x===false||z===false){return false}if(x&&!z){return j.result(A,"msg")||x}return z},"")};var s=function(v,u){var t,y={},z=true,x=j.clone(u),w=a(u);j.each(w,function(B,A){t=n(v,A,B,x);if(t){y[A]=t;z=false}});return{invalidAttrs:y,isValid:z}};var r=function(t,u){return{preValidate:function(w,z){var x=this,v={},y;if(j.isObject(w)){j.each(w,function(B,A){y=x.preValidate(A,B);if(y){v[A]=y}});return j.isEmpty(v)?undefined:v}else{return n(this,w,z,j.extend({},this.attributes))}},isValid:function(w){var v=a(this.attributes);if(j.isString(w)){return !n(this,w,v[w],j.extend({},this.attributes))}if(j.isArray(w)){return j.reduce(w,function(y,x){return y&&!n(this,x,v[x],j.extend({},this.attributes))},true,this)}if(w===true){this.validate()}return this.validation?this._isValid:true},validate:function(C,A){var x=this,w=!C,v=j.extend({},u,A),z=k(x),B=j.extend({},z,x.attributes,C),y=a(C||B),D=s(x,B);x._isValid=D.isValid;j.each(z,function(G,E){var F=D.invalidAttrs.hasOwnProperty(E);if(!F){v.valid(t,E,v.selector)}});j.each(z,function(H,E){var F=D.invalidAttrs.hasOwnProperty(E),G=y.hasOwnProperty(E);if(F&&(G||w)){v.invalid(t,E,D.invalidAttrs[E],v.selector)}});j.defer(function(){x.trigger("validated",x._isValid,x,D.invalidAttrs);x.trigger("validated:"+(x._isValid?"valid":"invalid"),x,D.invalidAttrs)});if(!v.forceUpdate&&j.intersection(j.keys(D.invalidAttrs),j.keys(y)).length>0){return D.invalidAttrs}}}};var m=function(t,v,u){j.extend(v,r(t,u))};var o=function(t){delete t.validate;delete t.preValidate;delete t.isValid};var q=function(t){m(this.view,t,this.options)};var l=function(t){o(t)};return{version:"0.9.1",configure:function(t){j.extend(d,t)},bind:function(t,v){v=j.extend({},d,c,v);var u=v.model||t.model,w=v.collection||t.collection;if(typeof u==="undefined"&&typeof w==="undefined"){throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information."}if(u){m(t,u,v)}else{if(w){w.each(function(x){m(t,x,v)});w.bind("add",q,{view:t,options:v});w.bind("remove",l)}}},unbind:function(t,v){v=j.extend({},v);var u=v.model||t.model,w=v.collection||t.collection;if(u){o(u)}else{if(w){w.each(function(x){o(x)});w.unbind("add",q);w.unbind("remove",l)}}},mixin:r(null,d)}}());var c=b.callbacks={valid:function(m,l,k){m.$("["+k+'~="'+l+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(m,l,n,k){m.$("["+k+'~="'+l+'"]').addClass("invalid").attr("data-error",n)}};var f=b.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i};var h=b.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"};var g=b.labelFormatters={none:function(k){return k},sentenceCase:function(k){return k.replace(/(?:^\w|[A-Z]|\b\w)/g,function(m,l){return l===0?m.toUpperCase():" "+m.toLowerCase()}).replace(/_/g," ")},label:function(l,k){return(k.labels&&k.labels[l])||g.sentenceCase(l,k)}};var i=b.validators=(function(){var k=String.prototype.trim?function(n){return n===null?"":String.prototype.trim.call(n)}:function(p){var o=/^\s+/,n=/\s+$/;return p===null?"":p.toString().replace(o,"").replace(n,"")};var l=function(n){return j.isNumber(n)||(j.isString(n)&&n.match(f.number))};var m=function(n){return !(j.isNull(n)||j.isUndefined(n)||(j.isString(n)&&k(n)==="")||(j.isArray(n)&&j.isEmpty(n)))};return{fn:function(r,n,p,o,q){if(j.isString(p)){p=o[p]}return p.call(o,r,n,q)},required:function(r,n,s,o,p){var q=j.isFunction(s)?s.call(o,r,n,p):s;if(!q&&!m(r)){return false}if(q&&!m(r)){return this.format(h.required,this.formatLabel(n,o))}},acceptance:function(q,n,p,o){if(q!=="true"&&(!j.isBoolean(q)||q===false)){return this.format(h.acceptance,this.formatLabel(n,o))}},min:function(q,n,p,o){if(!l(q)||q<p){return this.format(h.min,this.formatLabel(n,o),p)}},max:function(p,n,q,o){if(!l(p)||p>q){return this.format(h.max,this.formatLabel(n,o),q)}},range:function(q,n,o,p){if(!l(q)||q<o[0]||q>o[1]){return this.format(h.range,this.formatLabel(n,p),o[0],o[1])}},length:function(q,n,p,o){if(!j.isString(q)||q.length!==p){return this.format(h.length,this.formatLabel(n,o),p)}},minLength:function(q,n,o,p){if(!j.isString(q)||q.length<o){return this.format(h.minLength,this.formatLabel(n,p),o)}},maxLength:function(q,n,o,p){if(!j.isString(q)||q.length>o){return this.format(h.maxLength,this.formatLabel(n,p),o)}},rangeLength:function(q,n,o,p){if(!j.isString(q)||q.length<o[0]||q.length>o[1]){return this.format(h.rangeLength,this.formatLabel(n,p),o[0],o[1])}},oneOf:function(q,n,o,p){if(!j.include(o,q)){return this.format(h.oneOf,this.formatLabel(n,p),o.join(", "))}},equalTo:function(r,n,o,p,q){if(r!==q[o]){return this.format(h.equalTo,this.formatLabel(n,p),this.formatLabel(o,p))}},pattern:function(q,n,p,o){if(!m(q)||!q.toString().match(f[p]||p)){return this.format(h[p]||h.inlinePattern,this.formatLabel(n,o),p)}}}}());j.each(i,function(l,k){i[k]=j.bind(i[k],j.extend({},e,i))});return b}(_));
/* VelocityJS.org (1.2.2). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/* VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(h){function k(m){var a=m.length,i=f.type(m);return"function"===i||f.isWindow(m)?!1:1===m.nodeType&&a?!0:"array"===i||0===a||"number"==typeof a&&a>0&&a-1 in m}if(!h.jQuery){var f=function(i,a){return new f.fn.init(i,a)};f.isWindow=function(a){return null!=a&&a==a.window},f.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[c.call(a)]||"object":typeof a},f.isArray=Array.isArray||function(a){return"array"===f.type(a)},f.isPlainObject=function(m){var a;if(!m||"object"!==f.type(m)||m.nodeType||f.isWindow(m)){return !1}try{if(m.constructor&&!d.call(m,"constructor")&&!d.call(m.constructor.prototype,"isPrototypeOf")){return !1}}catch(i){return !1}for(a in m){}return void 0===a||d.call(m,a)},f.each=function(u,t,m){var w,v=0,p=u.length,q=k(u);if(m){if(q){for(;p>v&&(w=t.apply(u[v],m),w!==!1);v++){}}else{for(v in u){if(w=t.apply(u[v],m),w===!1){break}}}}else{if(q){for(;p>v&&(w=t.call(u[v],v,u[v]),w!==!1);v++){}}else{for(v in u){if(w=t.call(u[v],v,u[v]),w===!1){break}}}}return u},f.data=function(p,m,i){if(void 0===i){var r=p[f.expando],q=r&&b[r];if(void 0===m){return q}if(q&&m in q){return q[m]}}else{if(void 0!==m){var r=p[f.expando]||(p[f.expando]=++f.uuid);return b[r]=b[r]||{},b[r][m]=i,i}}},f.removeData=function(o,m){var i=o[f.expando],p=i&&b[i];p&&f.each(m,function(n,a){delete p[a]})},f.extend=function(){var x,A,m,y,q,p,w=arguments[0]||{},B=1,v=arguments.length,z=!1;for("boolean"==typeof w&&(z=w,w=arguments[B]||{},B++),"object"!=typeof w&&"function"!==f.type(w)&&(w={}),B===v&&(w=this,B--);v>B;B++){if(null!=(q=arguments[B])){for(y in q){x=w[y],m=q[y],w!==m&&(z&&m&&(f.isPlainObject(m)||(A=f.isArray(m)))?(A?(A=!1,p=x&&f.isArray(x)?x:[]):p=x&&f.isPlainObject(x)?x:{},w[y]=f.extend(z,p,m)):void 0!==m&&(w[y]=m))}}}return w},f.queue=function(p,m,i){function s(t,o){var n=o||[];return null!=t&&(k(Object(t))?!function(x,v){for(var w=+v.length,u=0,y=x.length;w>u;){x[y++]=v[u++]}if(w!==w){for(;void 0!==v[u];){x[y++]=v[u++]}}return x.length=y,x}(n,"string"==typeof t?[t]:t):[].push.call(n,t)),n}if(p){m=(m||"fx")+"queue";var q=f.data(p,m);return i?(!q||f.isArray(i)?q=f.data(p,m,s(i)):q.push(i),q):q||[]}},f.dequeue=function(i,a){f.each(i.nodeType?[i]:i,function(p,o){a=a||"fx";var m=f.queue(o,a),q=m.shift();"inprogress"===q&&(q=m.shift()),q&&("fx"===a&&m.unshift("inprogress"),q.call(o,function(){f.dequeue(o,a)}))})},f.fn=f.prototype={init:function(a){if(a.nodeType){return this[0]=a,this}throw new Error("Not a DOM node.")},offset:function(){var a=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:a.top+(h.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:a.left+(h.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function o(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;){a=a.offsetParent}return a||document}var m=this[0],o=o.apply(m),n=this.offset(),i=/^(?:body|html)$/i.test(o.nodeName)?{top:0,left:0}:f(o).offset();return n.top-=parseFloat(m.style.marginTop)||0,n.left-=parseFloat(m.style.marginLeft)||0,o.style&&(i.top+=parseFloat(o.style.borderTopWidth)||0,i.left+=parseFloat(o.style.borderLeftWidth)||0),{top:n.top-i.top,left:n.left-i.left}}};var b={};f.expando="velocity"+(new Date).getTime(),f.uuid=0;for(var j={},d=j.hasOwnProperty,c=j.toString,g="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<g.length;l++){j["[object "+g[l]+"]"]=g[l].toLowerCase()}f.fn.init.prototype=f.fn,h.Velocity={Utilities:f}}}(window),function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){return function(O,C,E,U){function H(f){for(var c=-1,d=f?f.length:0,b=[];++c<d;){var g=f[c];g&&b.push(g)}return b}function G(a){return M.isWrapped(a)?a=[].slice.call(a):M.isNode(a)&&(a=[a]),a}function K(b){var a=k.data(b,"velocity");return null===a?U:a}function D(a){return function(b){return Math.round(b*a)*(1/a)}}function J(aq,ag,av,aj){function ai(b,a){return 1-3*a+3*b}function am(b,a){return 3*a-6*b}function ae(a){return 3*a}function al(c,a,b){return((ai(a,b)*c+am(a,b))*c+ae(a))*c}function ad(c,a,b){return 3*ai(a,b)*c*c+2*am(a,b)*c+ae(a)}function at(b,c){for(var e=0;ak>e;++e){var d=ad(c,aq,av);if(0===d){return c}var a=al(c,aq,av)-b;c-=a/d}return c}function ah(){for(var a=0;au>a;++a){ab[a]=al(a*aa,aq,av)}}function ap(b,d,f){var e,a,c=0;do{a=d+(f-d)/2,e=al(a,aq,av)-b,e>0?f=a:d=a}while(Math.abs(e)>an&&++c<ac);return a}function ar(c){for(var e=0,g=1,f=au-1;g!=f&&ab[g]<=c;++g){e+=aa}--g;var b=(c-ab[g])/(ab[g+1]-ab[g]),d=e+b*aa,a=ad(d,aq,av);return a>=Z?at(c,d):0==a?d:ap(c,e,e+aa)}function ao(){t=!0,(aq!=ag||av!=aj)&&ah()}var ak=4,Z=0.001,an=1e-7,ac=10,au=11,aa=1/(au-1),X="Float32Array" in C;if(4!==arguments.length){return !1}for(var Y=0;4>Y;++Y){if("number"!=typeof arguments[Y]||isNaN(arguments[Y])||!isFinite(arguments[Y])){return !1}}aq=Math.min(aq,1),av=Math.min(av,1),aq=Math.max(aq,0),av=Math.max(av,0);var ab=X?new Float32Array(au):new Array(au),t=!1,af=function(a){return t||ao(),aq===ag&&av===aj?a:0===a?0:1===a?1:al(ar(a),ag,aj)};af.getControlPoints=function(){return[{x:aq,y:ag},{x:av,y:aj}]};var W="generateBezier("+[aq,ag,av,aj]+")";return af.toString=function(){return W},af}function B(c,a){var b=c;return M.isString(c)?A.Easings[c]||(b=!1):b=M.isArray(c)&&1===c.length?D.apply(null,c):M.isArray(c)&&2===c.length?T.apply(null,c.concat([a])):M.isArray(c)&&4===c.length?J.apply(null,c):!1,b===!1&&(b=A.Easings[A.defaults.easing]?A.defaults.easing:L),b}function R(aj){if(aj){var X=(new Date).getTime(),aa=A.State.calls.length;aa>10000&&(A.State.calls=H(A.State.calls));for(var ac=0;aa>ac;ac++){if(A.State.calls[ac]){var Y=A.State.calls[ac],ae=Y[0],P=Y[2],ai=Y[3],ak=!!ai,ad=null;ai||(ai=A.State.calls[ac][3]=X-16);for(var n=Math.min((X-ai)/P.duration,1),ah=0,al=ae.length;al>ah;ah++){var g=ae[ah],v=g.element;if(K(v)){var a=!1;if(P.display!==U&&null!==P.display&&"none"!==P.display){if("flex"===P.display){var Z=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];k.each(Z,function(d,b){z.setPropertyValue(v,"display",b)})}z.setPropertyValue(v,"display",P.display)}P.visibility!==U&&"hidden"!==P.visibility&&z.setPropertyValue(v,"visibility",P.visibility);for(var c in g){if("element"!==c){var af=g[c],ab,x=M.isString(af.easing)?A.Easings[af.easing]:af.easing;if(1===n){ab=af.endValue}else{var W=af.endValue-af.startValue;if(ab=af.startValue+W*x(n,P,W),!ak&&ab===af.currentValue){continue}}if(af.currentValue=ab,"tween"===c){ad=ab}else{if(z.Hooks.registered[c]){var ag=z.Hooks.getRoot(c),p=K(v).rootPropertyValueCache[ag];p&&(af.rootPropertyValue=p)}var i=z.setPropertyValue(v,c,af.currentValue+(0===parseFloat(ab)?"":af.unitType),af.rootPropertyValue,af.scrollData);z.Hooks.registered[c]&&(K(v).rootPropertyValueCache[ag]=z.Normalizations.registered[ag]?z.Normalizations.registered[ag]("extract",null,i[1]):i[1]),"transform"===i[0]&&(a=!0)}}}P.mobileHA&&K(v).transformCache.translate3d===U&&(K(v).transformCache.translate3d="(0px, 0px, 0px)",a=!0),a&&z.flushTransformCache(v)}}P.display!==U&&"none"!==P.display&&(A.State.calls[ac][2].display=!1),P.visibility!==U&&"hidden"!==P.visibility&&(A.State.calls[ac][2].visibility=!1),P.progress&&P.progress.call(Y[1],Y[1],n,Math.max(0,ai+P.duration-X),ai,ad),1===n&&F(ac)}}}A.State.isTicking&&q(R)}function F(S,Y){if(!A.State.calls[S]){return !1}for(var a=A.State.calls[S][0],i=A.State.calls[S][1],h=A.State.calls[S][2],Z=A.State.calls[S][4],x=!1,X=0,W=a.length;W>X;X++){var b=a[X].element;if(Y||h.loop||("none"===h.display&&z.setPropertyValue(b,"display",h.display),"hidden"===h.visibility&&z.setPropertyValue(b,"visibility",h.visibility)),h.loop!==!0&&(k.queue(b)[1]===U||!/\.velocityQueueEntryFlag/i.test(k.queue(b)[1]))&&K(b)){K(b).isAnimating=!1,K(b).rootPropertyValueCache={};var P=!1;k.each(z.Lists.transforms3D,function(f,c){var d=/^scale/.test(c)?1:0,g=K(b).transformCache[c];K(b).transformCache[c]!==U&&new RegExp("^\\("+d+"[^.]").test(g)&&(P=!0,delete K(b).transformCache[c])}),h.mobileHA&&(P=!0,delete K(b).transformCache.translate3d),P&&z.flushTransformCache(b),z.Values.removeClass(b,"velocity-animating")}if(!Y&&h.complete&&!h.loop&&X===W-1){try{h.complete.call(i,i)}catch(V){setTimeout(function(){throw V},1)}}Z&&h.loop!==!0&&Z(i),K(b)&&h.loop===!0&&!Y&&(k.each(K(b).tweensContainer,function(d,c){/^rotate/.test(d)&&360===parseFloat(c.endValue)&&(c.endValue=0,c.startValue=360),/^backgroundPosition/.test(d)&&100===parseFloat(c.endValue)&&"%"===c.unitType&&(c.endValue=0,c.startValue=100)}),A(b,"reverse",{loop:!0,delay:h.delay})),h.queue!==!1&&k.dequeue(b,h.queue)}A.State.calls[S]=!1;for(var y=0,v=A.State.calls.length;v>y;y++){if(A.State.calls[y]!==!1){x=!0;break}}x===!1&&(A.State.isTicking=!1,delete A.State.calls,A.State.calls=[])}var N=function(){if(E.documentMode){return E.documentMode}for(var b=7;b>4;b--){var a=E.createElement("div");if(a.innerHTML="<!--[if IE "+b+"]><span></span><![endif]-->",a.getElementsByTagName("span").length){return a=null,b}}return U}(),Q=function(){var a=0;return C.webkitRequestAnimationFrame||C.mozRequestAnimationFrame||function(c){var d=(new Date).getTime(),b;return b=Math.max(0,16-(d-a)),a=d+b,setTimeout(function(){c(d+b)},b)}}(),M={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==U&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||C.Zepto&&C.Zepto.zepto.isZ(a))},isSVG:function(a){return C.SVGElement&&a instanceof C.SVGElement},isEmptyObject:function(b){for(var a in b){return !1}return !0}},k,I=!1;if(O.fn&&O.fn.jquery?(k=O,I=!0):k=C.Velocity.Utilities,8>=N&&!I){throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.")}if(7>=N){return void (jQuery.fn.velocity=jQuery.fn.animate)}var w=400,L="swing",A={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:C.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:E.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:k,Redirects:{},Easings:{},Promise:C.Promise,defaults:{queue:"",duration:w,easing:L,begin:U,complete:U,progress:U,display:U,visibility:U,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){k.data(a,"velocity",{isSVG:M.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};C.pageYOffset!==U?(A.State.scrollAnchor=C,A.State.scrollPropertyLeft="pageXOffset",A.State.scrollPropertyTop="pageYOffset"):(A.State.scrollAnchor=E.documentElement||E.body.parentNode||E.body,A.State.scrollPropertyLeft="scrollLeft",A.State.scrollPropertyTop="scrollTop");var T=function(){function f(a){return -a.tension*a.x-a.friction*a.v}function c(g,h,e){var i={x:g.x+e.dx*h,v:g.v+e.dv*h,tension:g.tension,friction:g.friction};return{dx:i.v,dv:f(i)}}function d(t,g){var x={dx:t.v,dv:f(t)},v=c(t,0.5*g,x),m=c(t,0.5*g,v),p=c(t,g,m),e=1/6*(x.dx+2*(v.dx+m.dx)+p.dx),h=1/6*(x.dv+2*(v.dv+m.dv)+p.dv);return t.x=t.x+e*g,t.v=t.v+h*g,t}return function b(x,S,h){var g={x:-1,v:0,tension:null,friction:null},r=[0],V=0,m=0.0001,P=0.016,y,a,v;for(x=parseFloat(x)||500,S=parseFloat(S)||20,h=h||null,g.tension=x,g.friction=S,y=null!==h,y?(V=b(x,S),a=V/h*P):a=P;;){if(v=d(v||g,a),r.push(1+v.x),V+=16,!(Math.abs(v.x)>m&&Math.abs(v.v)>m)){break}}return y?function(i){return r[i*(r.length-1)|0]}:V}}();A.Easings={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},k.each([["ease",[0.25,0.1,0.25,1]],["ease-in",[0.42,0,1,1]],["ease-out",[0,0,0.58,1]],["ease-in-out",[0.42,0,0.58,1]],["easeInSine",[0.47,0,0.745,0.715]],["easeOutSine",[0.39,0.575,0.565,1]],["easeInOutSine",[0.445,0.05,0.55,0.95]],["easeInQuad",[0.55,0.085,0.68,0.53]],["easeOutQuad",[0.25,0.46,0.45,0.94]],["easeInOutQuad",[0.455,0.03,0.515,0.955]],["easeInCubic",[0.55,0.055,0.675,0.19]],["easeOutCubic",[0.215,0.61,0.355,1]],["easeInOutCubic",[0.645,0.045,0.355,1]],["easeInQuart",[0.895,0.03,0.685,0.22]],["easeOutQuart",[0.165,0.84,0.44,1]],["easeInOutQuart",[0.77,0,0.175,1]],["easeInQuint",[0.755,0.05,0.855,0.06]],["easeOutQuint",[0.23,1,0.32,1]],["easeInOutQuint",[0.86,0,0.07,1]],["easeInExpo",[0.95,0.05,0.795,0.035]],["easeOutExpo",[0.19,1,0.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[0.6,0.04,0.98,0.335]],["easeOutCirc",[0.075,0.82,0.165,1]],["easeInOutCirc",[0.785,0.135,0.15,0.86]]],function(b,a){A.Easings[a[0]]=J.apply(null,a[1])});var z=A.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var h=0;h<z.Lists.colors.length;h++){var d="color"===z.Lists.colors[h]?"0 0 0 1":"255 255 255 1";z.Hooks.templates[z.Lists.colors[h]]=["Red Green Blue Alpha",d]}var g,b,m;if(N){for(g in z.Hooks.templates){b=z.Hooks.templates[g],m=b[0].split(" ");var l=b[1].match(z.RegEx.valueSplit);"Color"===m[0]&&(m.push(m.shift()),l.push(l.shift()),z.Hooks.templates[g]=[m.join(" "),l.join(" ")])}}for(g in z.Hooks.templates){b=z.Hooks.templates[g],m=b[0].split(" ");for(var h in m){var c=g+m[h],f=h;z.Hooks.registered[c]=[g,f]}}},getRoot:function(b){var a=z.Hooks.registered[b];return a?a[0]:b},cleanRootPropertyValue:function(b,a){return z.RegEx.valueUnwrap.test(a)&&(a=a.match(z.RegEx.valueUnwrap)[1]),z.Values.isCSSNullValue(a)&&(a=z.Hooks.templates[b][1]),a},extractValue:function(f,c){var d=z.Hooks.registered[f];if(d){var b=d[0],g=d[1];return c=z.Hooks.cleanRootPropertyValue(b,c),c.toString().match(z.RegEx.valueSplit)[g]}return c},injectValue:function(h,d,g){var b=z.Hooks.registered[h];if(b){var m=b[0],l=b[1],c,f;return g=z.Hooks.cleanRootPropertyValue(m,g),c=g.toString().match(z.RegEx.valueSplit),c[l]=d,f=c.join(" ")}return g}},Normalizations:{registered:{clip:function(f,c,d){switch(f){case"name":return"clip";case"extract":var b;return z.RegEx.wrappedValueAlreadyExtracted.test(d)?b=d:(b=d.toString().match(z.RegEx.valueUnwrap),b=b?b[1].replace(/,(\s+)?/g," "):d),b;case"inject":return"rect("+d+")"}},blur:function(f,c,d){switch(f){case"name":return A.State.isFirefox?"filter":"-webkit-filter";case"extract":var b=parseFloat(d);if(!b&&0!==b){var g=d.toString().match(/blur\(([0-9]+[A-z]+)\)/i);b=g?g[1]:0}return b;case"inject":return parseFloat(d)?"blur("+d+")":"none"}},opacity:function(f,c,d){if(8>=N){switch(f){case"name":return"filter";case"extract":var b=d.toString().match(/alpha\(opacity=(.*)\)/i);return d=b?b[1]/100:1;case"inject":return c.style.zoom=1,parseFloat(d)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(d),10)+")"}}else{switch(f){case"name":return"opacity";case"extract":return d;case"inject":return d}}}},register:function(){9>=N||A.State.isGingerbread||(z.Lists.transformsBase=z.Lists.transformsBase.concat(z.Lists.transforms3D));for(var a=0;a<z.Lists.transformsBase.length;a++){!function(){var b=z.Lists.transformsBase[a];z.Normalizations.registered[b]=function(d,c,g){switch(d){case"name":return"transform";case"extract":return K(c)===U||K(c).transformCache[b]===U?/^scale/i.test(b)?1:0:K(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(g);break;case"scal":case"scale":A.State.isAndroid&&K(c).transformCache[b]===U&&1>g&&(g=1),f=!/(\d)$/i.test(g);break;case"skew":f=!/(deg|\d)$/i.test(g);break;case"rotate":f=!/(deg|\d)$/i.test(g)}return f||(K(c).transformCache[b]="("+g+")"),K(c).transformCache[b]}}}()}for(var a=0;a<z.Lists.colors.length;a++){!function(){var b=z.Lists.colors[a];z.Normalizations.registered[b]=function(g,f,l){switch(g){case"name":return b;case"extract":var h;if(z.RegEx.wrappedValueAlreadyExtracted.test(l)){h=l}else{var c,d={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(l)?c=d[l]!==U?d[l]:d.black:z.RegEx.isHex.test(l)?c="rgb("+z.Values.hexToRgb(l).join(" ")+")":/^rgba?\(/i.test(l)||(c=d.black),h=(c||l).toString().match(z.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=N||3!==h.split(" ").length||(h+=" 1"),h;case"inject":return 8>=N?4===l.split(" ").length&&(l=l.split(/\s+/).slice(0,3).join(" ")):3===l.split(" ").length&&(l+=" 1"),(8>=N?"rgb":"rgba")+"("+l.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(c,b){return b.toUpperCase()})},SVGAttribute:function(b){var a="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(N||A.State.isAndroid&&!A.State.isChrome)&&(a+="|transform"),new RegExp("^("+a+")$","i").test(b)},prefixCheck:function(f){if(A.State.prefixMatches[f]){return[A.State.prefixMatches[f],!0]}for(var c=["","Webkit","Moz","ms","O"],d=0,b=c.length;b>d;d++){var g;if(g=0===d?f:c[d]+f.replace(/^\w/,function(a){return a.toUpperCase()}),M.isString(A.State.prefixElement.style[g])){return A.State.prefixMatches[f]=g,[g,!0]}}return[f,!1]}},Values:{hexToRgb:function(f){var c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,b;return f=f.replace(c,function(l,h,i,g){return h+h+i+i+g+g}),b=d.exec(f),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(b){var a=b&&b.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":/^(table)$/i.test(a)?"table":/^(tbody)$/i.test(a)?"table-row-group":"block"},addClass:function(b,a){b.classList?b.classList.add(a):b.className+=(b.className.length?" ":"")+a},removeClass:function(b,a){b.classList?b.classList.remove(a):b.className=b.className.toString().replace(new RegExp("(^|\\s)"+a.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,a,h,f){function P(X,o){function S(){aa&&z.setPropertyValue(X,"display","none")}var V=0;if(8>=N){V=k.css(X,o)}else{var aa=!1;if(/^(width|height)$/.test(o)&&0===z.getPropertyValue(X,"display")&&(aa=!0,z.setPropertyValue(X,"display",z.Values.getDisplayType(X))),!f){if("height"===o&&"border-box"!==z.getPropertyValue(X,"boxSizing").toString().toLowerCase()){var Z=X.offsetHeight-(parseFloat(z.getPropertyValue(X,"borderTopWidth"))||0)-(parseFloat(z.getPropertyValue(X,"borderBottomWidth"))||0)-(parseFloat(z.getPropertyValue(X,"paddingTop"))||0)-(parseFloat(z.getPropertyValue(X,"paddingBottom"))||0);return S(),Z}if("width"===o&&"border-box"!==z.getPropertyValue(X,"boxSizing").toString().toLowerCase()){var s=X.offsetWidth-(parseFloat(z.getPropertyValue(X,"borderLeftWidth"))||0)-(parseFloat(z.getPropertyValue(X,"borderRightWidth"))||0)-(parseFloat(z.getPropertyValue(X,"paddingLeft"))||0)-(parseFloat(z.getPropertyValue(X,"paddingRight"))||0);return S(),s}}var Y;Y=K(X)===U?C.getComputedStyle(X,null):K(X).computedStyle?K(X).computedStyle:K(X).computedStyle=C.getComputedStyle(X,null),"borderColor"===o&&(o="borderTopColor"),V=9===N&&"filter"===o?Y.getPropertyValue(o):Y[o],(""===V||null===V)&&(V=X.style[o]),S()}if("auto"===V&&/^(top|right|bottom|left)$/i.test(o)){var W=P(X,"position");("fixed"===W||"absolute"===W&&/top|left/i.test(o))&&(V=k(X).position()[o]+"px")}return V}var i;if(z.Hooks.registered[a]){var y=a,x=z.Hooks.getRoot(y);h===U&&(h=z.getPropertyValue(t,z.Names.prefixCheck(x)[0])),z.Normalizations.registered[x]&&(h=z.Normalizations.registered[x]("extract",t,h)),i=z.Hooks.extractValue(y,h)}else{if(z.Normalizations.registered[a]){var b,v;b=z.Normalizations.registered[a]("name",t),"transform"!==b&&(v=P(t,z.Names.prefixCheck(b)[0]),z.Values.isCSSNullValue(v)&&z.Hooks.templates[a]&&(v=z.Hooks.templates[a][1])),i=z.Normalizations.registered[a]("extract",t,v)}}if(!/^[\d-]/.test(i)){if(K(t)&&K(t).isSVG&&z.Names.SVGAttribute(a)){if(/^(height|width)$/i.test(a)){try{i=t.getBBox()[a]}catch(m){i=0}}else{i=t.getAttribute(a)}}else{i=P(t,z.Names.prefixCheck(a)[0])}}return z.Values.isCSSNullValue(i)&&(i=0),A.debug>=2&&console.log("Get "+a+": "+i),i},setPropertyValue:function(h,b,m,f,d){var t=b;if("scroll"===b){d.container?d.container["scroll"+d.direction]=m:"Left"===d.direction?C.scrollTo(m,d.alternateValue):C.scrollTo(d.alternateValue,m)}else{if(z.Normalizations.registered[b]&&"transform"===z.Normalizations.registered[b]("name",h)){z.Normalizations.registered[b]("inject",h,m),t="transform",m=K(h).transformCache[b]}else{if(z.Hooks.registered[b]){var g=b,p=z.Hooks.getRoot(b);f=f||z.getPropertyValue(h,p),m=z.Hooks.injectValue(g,m,f),b=p}if(z.Normalizations.registered[b]&&(m=z.Normalizations.registered[b]("inject",h,m),b=z.Normalizations.registered[b]("name",h)),t=z.Names.prefixCheck(b)[0],8>=N){try{h.style[t]=m}catch(i){A.debug&&console.log("Browser does not support ["+m+"] for ["+t+"]")}}else{K(h)&&K(h).isSVG&&z.Names.SVGAttribute(b)?h.setAttribute(b,m):h.style[t]=m}A.debug>=2&&console.log("Set "+b+" ("+t+"): "+m)}}return[t,m]},flushTransformCache:function(f){function c(a){return parseFloat(z.getPropertyValue(f,a))}var d="";if((N||A.State.isAndroid&&!A.State.isChrome)&&K(f).isSVG){var b={translate:[c("translateX"),c("translateY")],skewX:[c("skewX")],skewY:[c("skewY")],scale:1!==c("scale")?[c("scale"),c("scale")]:[c("scaleX"),c("scaleY")],rotate:[c("rotateZ"),0,0]};k.each(K(f).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),b[a]&&(d+=a+"("+b[a].join(" ")+") ",delete b[a])})}else{var h,g;k.each(K(f).transformCache,function(a){return h=K(f).transformCache[a],"transformPerspective"===a?(g=h,!0):(9===N&&"rotateZ"===a&&(a="rotate"),void (d+=a+h+" "))}),g&&(d="perspective"+g+" "+d)}z.setPropertyValue(f,"transform",d)}};z.Hooks.register(),z.Normalizations.register(),A.hook=function(c,a,b){var d=U;return c=G(c),k.each(c,function(g,h){if(K(h)===U&&A.init(h),b===U){d===U&&(d=A.CSS.getPropertyValue(h,a))}else{var f=A.CSS.setPropertyValue(h,a,b);"transform"===f[0]&&A.CSS.flushTransformCache(h),d=f}}),d};var j=function(){function af(){return aa?c.promise||null:ae}function Y(){function f(aC){function az(aH,aE){var aG=U,V=U,aF=U;return M.isArray(aH)?(aG=aH[0],!M.isArray(aH[1])&&/^[\d-]/.test(aH[1])||M.isFunction(aH[1])||z.RegEx.isHex.test(aH[1])?aF=aH[1]:(M.isString(aH[1])&&!z.RegEx.isHex.test(aH[1])||M.isArray(aH[1]))&&(V=aE?aH[1]:B(aH[1],h.duration),aH[2]!==U&&(aF=aH[2]))):aG=aH,aE||(V=V||h.easing),M.isFunction(aG)&&(aG=aG.call(m,v,i)),M.isFunction(aF)&&(aF=aF.call(m,v,i)),[aG||0,V,aF]}function aB(aG,aE){var aF,V;return V=(aE||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(aH){return aF=aH,""}),aF||(aF=z.Values.getUnitType(aG)),[V,aF]}function aD(){var aH={myParent:m.parentNode||E.body,position:z.getPropertyValue(m,"position"),fontSize:z.getPropertyValue(m,"fontSize")},aE=aH.position===p.lastPosition&&aH.myParent===p.lastParent,aI=aH.fontSize===p.lastFontSize;p.lastParent=aH.myParent,p.lastPosition=aH.position,p.lastFontSize=aH.fontSize;var aG=100,V={};if(aI&&aE){V.emToPx=p.lastEmToPx,V.percentToPxWidth=p.lastPercentToPxWidth,V.percentToPxHeight=p.lastPercentToPxHeight}else{var aF=K(m).isSVG?E.createElementNS("http://www.w3.org/2000/svg","rect"):E.createElement("div");A.init(aF),aH.myParent.appendChild(aF),k.each(["overflow","overflowX","overflowY"],function(aK,aJ){A.CSS.setPropertyValue(aF,aJ,"hidden")}),A.CSS.setPropertyValue(aF,"position",aH.position),A.CSS.setPropertyValue(aF,"fontSize",aH.fontSize),A.CSS.setPropertyValue(aF,"boxSizing","content-box"),k.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(aK,aJ){A.CSS.setPropertyValue(aF,aJ,aG+"%")}),A.CSS.setPropertyValue(aF,"paddingLeft",aG+"em"),V.percentToPxWidth=p.lastPercentToPxWidth=(parseFloat(z.getPropertyValue(aF,"width",null,!0))||1)/aG,V.percentToPxHeight=p.lastPercentToPxHeight=(parseFloat(z.getPropertyValue(aF,"height",null,!0))||1)/aG,V.emToPx=p.lastEmToPx=(parseFloat(z.getPropertyValue(aF,"paddingLeft"))||1)/aG,aH.myParent.removeChild(aF)}return null===p.remToPx&&(p.remToPx=parseFloat(z.getPropertyValue(E.body,"fontSize"))||16),null===p.vwToPx&&(p.vwToPx=parseFloat(C.innerWidth)/100,p.vhToPx=parseFloat(C.innerHeight)/100),V.remToPx=p.remToPx,V.vwToPx=p.vwToPx,V.vhToPx=p.vhToPx,A.debug>=1&&console.log("Unit ratios: "+JSON.stringify(V),m),V}if(h.begin&&0===v){try{h.begin.call(Z,Z)}catch(an){setTimeout(function(){throw an},1)}}if("scroll"===ab){var ai=/^x$/i.test(h.axis)?"Left":"Top",P=parseFloat(h.offset)||0,av,ay,ar;h.container?M.isWrapped(h.container)||M.isNode(h.container)?(h.container=h.container[0]||h.container,av=h.container["scroll"+ai],ar=av+k(m).position()[ai.toLowerCase()]+P):h.container=null:(av=A.State.scrollAnchor[A.State["scrollProperty"+ai]],ay=A.State.scrollAnchor[A.State["scrollProperty"+("Left"===ai?"Top":"Left")]],ar=k(m).offset()[ai.toLowerCase()]+P),d={scroll:{rootPropertyValue:!1,startValue:av,currentValue:av,endValue:ar,unitType:"",easing:h.easing,scrollData:{container:h.container,direction:ai,alternateValue:ay}},element:m},A.debug&&console.log("tweensContainer (scroll): ",d.scroll,m)}else{if("reverse"===ab){if(!K(m).tweensContainer){return void k.dequeue(m,h.queue)}"none"===K(m).opts.display&&(K(m).opts.display="auto"),"hidden"===K(m).opts.visibility&&(K(m).opts.visibility="visible"),K(m).opts.loop=!1,K(m).opts.begin=null,K(m).opts.complete=null,ah.easing||delete h.easing,ah.duration||delete h.duration,h=k.extend({},K(m).opts,h);var at=k.extend(!0,{},K(m).tweensContainer);for(var aA in at){if("element"!==aA){var ap=at[aA].startValue;at[aA].startValue=at[aA].currentValue=at[aA].endValue,at[aA].endValue=ap,M.isEmptyObject(ah)||(at[aA].easing=h.easing),A.debug&&console.log("reverse tweensContainer ("+aA+"): "+JSON.stringify(at[aA]),m)}}d=at}else{if("start"===ab){var at;K(m).tweensContainer&&K(m).isAnimating===!0&&(at=K(m).tweensContainer),k.each(ad,function(aJ,aM){if(RegExp("^"+z.Lists.colors.join("$|^")+"$").test(aJ)){var V=az(aM,!0),aF=V[0],aE=V[1],aH=V[2];if(z.RegEx.isHex.test(aF)){for(var aN=["Red","Green","Blue"],aG=z.Values.hexToRgb(aF),aL=aH?z.Values.hexToRgb(aH):U,aK=0;aK<aN.length;aK++){var aI=[aG[aK]];aE&&aI.push(aE),aL!==U&&aI.push(aL[aK]),ad[aJ+aN[aK]]=aI}delete ad[aJ]}}});for(var aj in ad){var ak=az(ad[aj]),am=ak[0],ax=ak[1],al=ak[2];aj=z.Names.camelCase(aj);var ao=z.Hooks.getRoot(aj),aw=!1;if(K(m).isSVG||"tween"===ao||z.Names.prefixCheck(ao)[1]!==!1||z.Normalizations.registered[ao]!==U){(h.display!==U&&null!==h.display&&"none"!==h.display||h.visibility!==U&&"hidden"!==h.visibility)&&/opacity|filter/.test(aj)&&!al&&0!==am&&(al=0),h._cacheValues&&at&&at[aj]?(al===U&&(al=at[aj].endValue+at[aj].unitType),aw=K(m).rootPropertyValueCache[ao]):z.Hooks.registered[aj]?al===U?(aw=z.getPropertyValue(m,ao),al=z.getPropertyValue(m,aj,aw)):aw=z.Hooks.templates[ao][1]:al===U&&(al=z.getPropertyValue(m,aj));var s,aq,au,n=!1;if(s=aB(aj,al),al=s[0],au=s[1],s=aB(aj,am),am=s[0].replace(/^([+-\/*])=/,function(aE,V){return n=V,""}),aq=s[1],al=parseFloat(al)||0,am=parseFloat(am)||0,"%"===aq&&(/^(fontSize|lineHeight)$/.test(aj)?(am/=100,aq="em"):/^scale/.test(aj)?(am/=100,aq=""):/(Red|Green|Blue)$/i.test(aj)&&(am=am/100*255,aq="")),/[\/*]/.test(n)){aq=au}else{if(au!==aq&&0!==al){if(0===am){aq=au}else{b=b||aD();var l=/margin|padding|left|right|width|text|word|letter/i.test(aj)||/X$/.test(aj)||"x"===aj?"x":"y";switch(au){case"%":al*="x"===l?b.percentToPxWidth:b.percentToPxHeight;break;case"px":break;default:al*=b[au+"ToPx"]}switch(aq){case"%":al*=1/("x"===l?b.percentToPxWidth:b.percentToPxHeight);break;case"px":break;default:al*=1/b[aq+"ToPx"]}}}}switch(n){case"+":am=al+am;break;case"-":am=al-am;break;case"*":am=al*am;break;case"/":am=al/am}d[aj]={rootPropertyValue:aw,startValue:al,currentValue:al,endValue:am,unitType:aq,easing:ax},A.debug&&console.log("tweensContainer ("+aj+"): "+JSON.stringify(d[aj]),m)}else{A.debug&&console.log("Skipping ["+ao+"] due to a lack of browser support.")}}d.element=m}}}d.element&&(z.Values.addClass(m,"velocity-animating"),r.push(d),""===h.queue&&(K(m).tweensContainer=d,K(m).opts=h),K(m).isAnimating=!0,v===i-1?(A.State.calls.push([r,Z,h,null,c.resolver]),A.State.isTicking===!1&&(A.State.isTicking=!0,R())):v++)}var m=this,h=k.extend({},A.defaults,ah),d={},b;switch(K(m)===U&&A.init(m),parseFloat(h.delay)&&h.queue!==!1&&k.queue(m,h.queue,function(l){A.velocityQueueEntryFlag=!0,K(m).delayTimer={setTimeout:setTimeout(l,parseFloat(h.delay)),next:l}}),h.duration.toString().toLowerCase()){case"fast":h.duration=200;break;case"normal":h.duration=w;break;case"slow":h.duration=600;break;default:h.duration=parseFloat(h.duration)||1}A.mock!==!1&&(A.mock===!0?h.duration=h.delay=1:(h.duration*=parseFloat(A.mock)||1,h.delay*=parseFloat(A.mock)||1)),h.easing=B(h.easing,h.duration),h.begin&&!M.isFunction(h.begin)&&(h.begin=null),h.progress&&!M.isFunction(h.progress)&&(h.progress=null),h.complete&&!M.isFunction(h.complete)&&(h.complete=null),h.display!==U&&null!==h.display&&(h.display=h.display.toString().toLowerCase(),"auto"===h.display&&(h.display=A.CSS.Values.getDisplayType(m))),h.visibility!==U&&null!==h.visibility&&(h.visibility=h.visibility.toString().toLowerCase()),h.mobileHA=h.mobileHA&&A.State.isMobile&&!A.State.isGingerbread,h.queue===!1?h.delay?setTimeout(f,h.delay):f():k.queue(m,h.queue,function(e,l){return l===!0?(c.promise&&c.resolver(Z),!0):(A.velocityQueueEntryFlag=!0,void f(e))}),""!==h.queue&&"fx"!==h.queue||"inprogress"===k.queue(m)[0]||k.dequeue(m)}var S=arguments[0]&&(arguments[0].p||k.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||M.isString(arguments[0].properties)),aa,ae,ag,Z,ad,ah;if(M.isWrapped(this)?(aa=!1,ag=0,Z=this,ae=this):(aa=!0,ag=1,Z=S?arguments[0].elements||arguments[0].e:arguments[0]),Z=G(Z)){S?(ad=arguments[0].properties||arguments[0].p,ah=arguments[0].options||arguments[0].o):(ad=arguments[ag],ah=arguments[ag+1]);var i=Z.length,v=0;if(!/^(stop|finish)$/i.test(ad)&&!k.isPlainObject(ah)){var a=ag+1;ah={};for(var W=a;W<arguments.length;W++){M.isArray(arguments[W])||!/^(fast|normal|slow)$/i.test(arguments[W])&&!/^\d/.test(arguments[W])?M.isString(arguments[W])||M.isArray(arguments[W])?ah.easing=arguments[W]:M.isFunction(arguments[W])&&(ah.complete=arguments[W]):ah.duration=arguments[W]}}var c={promise:null,resolver:null,rejecter:null};aa&&A.Promise&&(c.promise=new A.Promise(function(d,b){c.resolver=d,c.rejecter=b}));var ab;switch(ad){case"scroll":ab="scroll";break;case"reverse":ab="reverse";break;case"finish":case"stop":k.each(Z,function(d,b){K(b)&&K(b).delayTimer&&(clearTimeout(K(b).delayTimer.setTimeout),K(b).delayTimer.next&&K(b).delayTimer.next(),delete K(b).delayTimer)});var X=[];return k.each(A.State.calls,function(d,b){b&&k.each(b[1],function(e,h){var f=ah===U?"":ah;return f===!0||b[2].queue===f||ah===U&&b[2].queue===!1?void k.each(Z,function(m,l){l===h&&((ah===!0||M.isString(ah))&&(k.each(k.queue(l,M.isString(ah)?ah:""),function(s,n){M.isFunction(n)&&n(null,!0)}),k.queue(l,M.isString(ah)?ah:"",[])),"stop"===ad?(K(l)&&K(l).tweensContainer&&f!==!1&&k.each(K(l).tweensContainer,function(s,n){n.endValue=n.currentValue}),X.push(d)):"finish"===ad&&(b[2].duration=1))}):!0})}),"stop"===ad&&(k.each(X,function(d,b){F(b,!0)}),c.promise&&c.resolver(Z)),af();default:if(!k.isPlainObject(ad)||M.isEmptyObject(ad)){if(M.isString(ad)&&A.Redirects[ad]){var x=k.extend({},ah),y=x.duration,ac=x.delay||0;return x.backwards===!0&&(Z=k.extend(!0,[],Z).reverse()),k.each(Z,function(d,b){parseFloat(x.stagger)?x.delay=ac+parseFloat(x.stagger)*d:M.isFunction(x.stagger)&&(x.delay=ac+x.stagger.call(b,d,i)),x.drag&&(x.duration=parseFloat(y)||(/^(callout|transition)/.test(ad)?1000:w),x.duration=Math.max(x.duration*(x.backwards?1-d/i:(d+1)/i),0.75*x.duration,200)),A.Redirects[ad].call(b,b,x||{},d,i,Z,c.promise?c:U)}),af()}var u="Velocity: First argument ("+ad+") was not a property map, a known action, or a registered redirect. Aborting.";return c.promise?c.rejecter(new Error(u)):console.log(u),af()}ab="start"}var p={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},r=[];k.each(Z,function(d,b){M.isNode(b)&&Y.call(b)});var x=k.extend({},A.defaults,ah),g;if(x.loop=parseInt(x.loop),g=2*x.loop-1,x.loop){for(var o=0;g>o;o++){var t={delay:x.delay,progress:x.progress};o===g-1&&(t.display=x.display,t.visibility=x.visibility,t.complete=x.complete),j(Z,"reverse",t)}}return af()}};A=k.extend(j,A),A.animate=j;var q=C.requestAnimationFrame||Q;return A.State.isMobile||E.hidden===U||E.addEventListener("visibilitychange",function(){E.hidden?(q=function(a){return setTimeout(function(){a(!0)},16)},R()):q=C.requestAnimationFrame||Q}),O.Velocity=A,O!==C&&(O.fn.velocity=j,O.fn.velocity.defaults=A.defaults),k.each(["Down","Up"],function(b,a){A.Redirects["slide"+a]=function(y,d,m,h,v,V){var t=k.extend({},d),S=t.begin,P=t.complete,g={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},x={};t.display===U&&(t.display="Down"===a?"inline"===A.CSS.Values.getDisplayType(y)?"inline-block":"block":"none"),t.begin=function(){S&&S.call(v,v);for(var e in g){x[e]=y.style[e];var c=A.CSS.getPropertyValue(y,e);g[e]="Down"===a?[c,0]:[0,c]}x.overflow=y.style.overflow,y.style.overflow="hidden"},t.complete=function(){for(var c in x){y.style[c]=x[c]}P&&P.call(v,v),V&&V.resolver(v)},A(y,g,t)}}),k.each(["In","Out"],function(b,a){A.Redirects["fade"+a]=function(p,d,g,f,m,x){var h=k.extend({},d),v={opacity:"In"===a?1:0},t=h.complete;h.complete=g!==f-1?h.begin=null:function(){t&&t.call(m,m),x&&x.resolver(m)},h.display===U&&(h.display="In"===a?"auto":"none"),A(this,v,h)}}),A}(window.jQuery||window.Zepto||window,window,document)})}).call(this);